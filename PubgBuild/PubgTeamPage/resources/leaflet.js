var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=='function'?Object.defineProperty:function(b,c,a){a=a;if(b==Array.prototype||b==Object.prototype){return}b[c]=a.value};$jscomp.getGlobal=function(a){return typeof window!='undefined'&&window===a?a:typeof global!='undefined'&&global!=null?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(i,f,j,k){if(!f){return}var a=$jscomp.global;var b=i.split('.');for(var e=0;e<b.length-1;e++){var d=b[e];if(!(d in a)){a[d]={}}a=a[d]}var g=b[b.length-1];var h=a[g];var c=f(h);if(c==h||c==null){return}$jscomp.defineProperty(a,g,{configurable:!0,writable:!0,value:c})};$jscomp.polyfill('Array.prototype.copyWithin',function(a){if(a){return a}var b=function(d,c,b){var e=this.length;d=Number(d);c=Number(c);b=Number(b!=null?b:e);if(d<c){b=Math.min(b,e);while(c<b){if(c in this){this[d++]=this[c++]}else {delete this[d++];c++}}}else {b=Math.min(b,e+c-d);d+=b-c;while(b>c){if(--b in this){this[--d]=this[b]}else {delete this[d]}}}return this};return b},'es6','es3');$jscomp.SYMBOL_PREFIX='jscomp_symbol_';$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global['Symbol']){$jscomp.global['Symbol']=$jscomp.Symbol}};$jscomp.Symbol=function(){var a=0;function Symbol(b){return $jscomp.SYMBOL_PREFIX+(b||'')+a++}return Symbol}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global['Symbol'].iterator;if(!a){a=$jscomp.global['Symbol'].iterator=$jscomp.global['Symbol']('iterator')}if(typeof Array.prototype[a]!='function'){$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}})}$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){if(b<a.length){return {done:!1,value:a[b++]}}else {return {done:!0}}})};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();var a={next:b};a[$jscomp.global['Symbol'].iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();if(a instanceof String){a=a+''}var c=0;var b={next:function(){if(c<a.length){var e=c++;return {value:d(e,a[e]),done:!1}}b.next=function(){return {done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill('Array.prototype.entries',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b,c){return [b,c]})};return b},'es6','es3');$jscomp.polyfill('Array.prototype.fill',function(a){if(a){return a}var b=function(f,c,b){var d=this.length||0;if(c<0){c=Math.max(0,d+c)}if(b==null||b>d){b=d}b=Number(b);if(b<0){b=Math.max(0,d+b)}for(var e=Number(c||0);e<b;e++){this[e]=f}return this};return b},'es6','es3');$jscomp.findInternal=function(a,d,e){if(a instanceof String){a=String(a)}var f=a.length;for(var b=0;b<f;b++){var c=a[b];if(d.call(e,c,b,a)){return {i:b,v:c}}}return {i:-1,v:void 0}};$jscomp.polyfill('Array.prototype.find',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).v};return b},'es6','es3');$jscomp.polyfill('Array.prototype.findIndex',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).i};return b},'es6','es3');$jscomp.polyfill('Array.from',function(a){if(a){return a}var b=function(b,c,g){$jscomp.initSymbolIterator();c=c!=null?c:function(d){return d};var d=[];var f=b[Symbol.iterator];if(typeof f=='function'){b=f.call(b);var h;while(!(h=b.next()).done){d.push(c.call(g,h.value))}}else {var i=b.length;for(var e=0;e<i;e++){d.push(c.call(g,b[e]))}}return d};return b},'es6','es3');$jscomp.polyfill('Object.is',function(a){if(a){return a}var b=function(b,c){if(b===c){return b!==0||1/b===1/c}else {return b!==b&&c!==c}};return b},'es6','es3');$jscomp.polyfill('Array.prototype.includes',function(a){if(a){return a}var b=function(d,e){var b=this;if(b instanceof String){b=String(b)}var f=b.length;for(var c=e||0;c<f;c++){if(b[c]==d||Object.is(b[c],d)){return !0}}return !1};return b},'es7','es3');$jscomp.polyfill('Array.prototype.keys',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b){return b})};return b},'es6','es3');$jscomp.polyfill('Array.of',function(a){if(a){return a}var b=function(b){return Array.from(arguments)};return b},'es6','es3');$jscomp.polyfill('Array.prototype.values',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(c,b){return b})};return b},'es6','es3');$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.polyfill('Promise',function(c){if(c&&!$jscomp.FORCE_POLYFILL_PROMISE){return c}function AsyncExecutor(){this.batch_=null}AsyncExecutor.prototype.asyncExecute=function(a){if(this.batch_==null){this.batch_=[];this.asyncExecuteBatch_()}this.batch_.push(a);return this};AsyncExecutor.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var e=$jscomp.global['setTimeout'];AsyncExecutor.prototype.asyncExecuteFunction=function(a){e(a,0)};AsyncExecutor.prototype.executeBatch_=function(){while(this.batch_&&this.batch_.length){var b=this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var d=b[a];delete b[a];try{d()}catch(f){this.asyncThrow_(f)}}}this.batch_=null};AsyncExecutor.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a})};var b={PENDING:0,FULFILLED:1,REJECTED:2};var a=function(d){this.state_=b.PENDING;this.result_=undefined;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{d(a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.createResolveAndReject_=function(){var b=this;var a=!1;function firstCallWins(d){return function(e){if(!a){a=!0;d.call(b,e)}}}return {resolve:firstCallWins(this.resolveTo_),reject:firstCallWins(this.reject_)}};a.prototype.resolveTo_=function(b){if(b===this){this.reject_(new TypeError('A Promise cannot resolve to itself'))}else {if(b instanceof a){this.settleSameAsPromise_(b)}else {if(isObject(b)){this.resolveToNonPromiseObj_(b)}else {this.fulfill_(b)}}}};a.prototype.resolveToNonPromiseObj_=function(b){var a=undefined;try{a=b.then}catch(f){this.reject_(f);return}if(typeof a=='function'){this.settleSameAsThenable_(a,b)}else {this.fulfill_(b)}};function isObject(a){switch(typeof a){case 'object':return a!=null;case 'function':return !0;default:return !1;}}a.prototype.reject_=function(a){this.settle_(b.REJECTED,a)};a.prototype.fulfill_=function(a){this.settle_(b.FULFILLED,a)};a.prototype.settle_=function(d,a){if(this.state_!=b.PENDING){throw new Error('Cannot settle('+d+', '+a|'): Promise already settled in state'+this.state_)}this.state_=d;this.result_=a;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){var b=this.onSettledCallbacks_;for(var a=0;a<b.length;++a){b[a].call();b[a]=null}this.onSettledCallbacks_=null}};var d=new AsyncExecutor();a.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};a.prototype.settleSameAsThenable_=function(b,d){var a=this.createResolveAndReject_();try{b.call(d,a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.then=function(f,g){var b;var d;var e=new a(function(a,e){b=a;d=e});function createCallback(a,e){if(typeof a=='function'){return function(h){try{b(a(h))}catch(i){d(i)}}}else {return e}}this.callWhenSettled_(createCallback(f,b),createCallback(g,d));return e};a.prototype['catch']=function(a){return this.then(undefined,a)};a.prototype.callWhenSettled_=function(e,f){var a=this;function callback(){switch(a.state_){case b.FULFILLED:e(a.result_);break;case b.REJECTED:f(a.result_);break;default:throw new Error('Unexpected state: '+a.state_);}}if(this.onSettledCallbacks_==null){d.asyncExecute(callback)}else {this.onSettledCallbacks_.push(function(){d.asyncExecute(callback)})}};function resolvingPromise(b){if(b instanceof a){return b}else {return new a(function(a,d){a(b)})}}a['resolve']=resolvingPromise;a['reject']=function(b){return new a(function(d,a){a(b)})};a['race']=function(b){return new a(function(e,f){var d=$jscomp.makeIterator(b);for(var a=d.next();!a.done;a=d.next()){resolvingPromise(a.value).callWhenSettled_(e,f)}})};a['all']=function(e){var d=$jscomp.makeIterator(e);var b=d.next();if(b.done){return resolvingPromise([])}else {return new a(function(g,h){var a=[];var f=0;function onFulfilled(b){return function(d){a[b]=d;f--;if(f==0){g(a)}}}do{a.push(undefined);f++;resolvingPromise(b.value).callWhenSettled_(onFulfilled(a.length-1),h);b=d.next()}while(!b.done)})}};return a},'es6','es3');$jscomp.executeAsyncGenerator=function(a){function passValueToGenerator(b){return a.next(b)}function passErrorToGenerator(b){return a['throw'](b)}return new Promise(function(b,c){function handleGeneratorRecord(d){if(d.done){b(d.value)}else {Promise.resolve(d.value).then(passValueToGenerator,passErrorToGenerator).then(handleGeneratorRecord,c)}}handleGeneratorRecord(a.next())})};$jscomp.owns=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};$jscomp.polyfill('WeakMap',function(c){function isConformant(){if(!c||!Object.seal){return !1}try{var b=Object.seal({});var d=Object.seal({});var a=new c([[b,2],[d,3]]);if(a.get(b)!=2||a.get(d)!=3){return !1}a['delete'](b);a.set(d,4);return !a.has(b)&&a.get(d)==4}catch(e){return !1}}if(isConformant()){return c}var a='$jscomp_hidden_'+Math.random().toString().substring(2);function insert(b){if(!$jscomp.owns(b,a)){var d={};$jscomp.defineProperty(b,a,{value:d})}}function patch(a){var b=Object[a];if(b){Object[a]=function(d){insert(d);return b(d)}}}patch('freeze');patch('preventExtensions');patch('seal');var d=0;var b=function(a){this.id_=(d+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var f=$jscomp.makeIterator(a);var b;while(!(b=f.next()).done){var e=b.value;this.set(e[0],e[1])}}};b.prototype.set=function(b,d){insert(b);if(!$jscomp.owns(b,a)){throw new Error('WeakMap key fail: '+b)}b[a][this.id_]=d;return this};b.prototype.get=function(b){return $jscomp.owns(b,a)?b[a][this.id_]:undefined};b.prototype.has=function(b){return $jscomp.owns(b,a)&&$jscomp.owns(b[a],this.id_)};b.prototype['delete']=function(b){if(!$jscomp.owns(b,a)||!$jscomp.owns(b[a],this.id_)){return !1}return delete b[a][this.id_]};return b},'es6','es3');$jscomp.MapEntry=function(){this.previous;this.next;this.head;this.key;this.value};$jscomp.polyfill('Map',function(b){var g=!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!b||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var e=Object.seal({x:4});var c=new b($jscomp.makeIterator([[e,'s']]));if(c.get(e)!='s'||c.size!=1||c.get({x:4})||c.set({x:4},'t')!=c||c.size!=2){return !1}var d=c.entries();var a=d.next();if(a.done||a.value[0]!=e||a.value[1]!='s'){return !1}a=d.next();if(a.done||a.value[0].x!=4||a.value[1]!='t'||!d.next().done){return !1}return !0}catch(j){return !1}}();if(g){return b}$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=new WeakMap();var a=function(a){this.data_={};this.head_=f();this.size=0;if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.set(d[0],d[1])}}};a.prototype.set=function(e,d){var a=c(this,e);if(!a.list){a.list=this.data_[a.id]=[]}if(!a.entry){a.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:d};a.list.push(a.entry);this.head_.previous.next=a.entry;this.head_.previous=a.entry;this.size++}else {a.entry.value=d}return this};a.prototype['delete']=function(d){var a=c(this,d);if(a.entry&&a.list){a.list.splice(a.index,1);if(!a.list.length){delete this.data_[a.id]}a.entry.previous.next=a.entry.next;a.entry.next.previous=a.entry.previous;a.entry.head=null;this.size--;return !0}return !1};a.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};a.prototype.has=function(a){return !!c(this,a).entry};a.prototype.get=function(d){var a=c(this,d).entry;return a&&a.value};a.prototype.entries=function(){return d(this,function(a){return [a.key,a.value]})};a.prototype.keys=function(){return d(this,function(a){return a.key})};a.prototype.values=function(){return d(this,function(a){return a.value})};a.prototype.forEach=function(e,d){var f=this.entries();var c;while(!(c=f.next()).done){var a=c.value;e.call(d,a[1],a[0],this)}};a.prototype[Symbol.iterator]=a.prototype.entries;var c=function(g,e){var f=i(e);var a=g.data_[f];if(a&&$jscomp.owns(g.data_,f)){for(var d=0;d<a.length;d++){var c=a[d];if(e!==e&&c.key!==c.key||e===c.key){return {id:f,list:a,index:d,entry:c}}}}return {id:f,list:a,index:-1,entry:undefined}};var d=function(c,d){var a=c.head_;return $jscomp.iteratorPrototype(function(){if(a){while(a.head!=c.head_){a=a.previous}while(a.next!=a.head){a=a.next;return {done:!1,value:d(a)}}a=null}return {done:!0,value:void 0}})};var f=function(){var a={};a.previous=a.next=a.head=a;return a};var h=0;var i=function(a){var c=a&&typeof a;if(c=='object'||c=='function'){a=a;if(!e.has(a)){var d=''+ ++h;e.set(a,d);return d}return e.get(a)}return 'p_'+a};return a},'es6','es3');$jscomp.polyfill('Math.acosh',function(a){if(a){return a}var b=function(b){b=Number(b);return Math.log(b+Math.sqrt(b*b-1))};return b},'es6','es3');$jscomp.polyfill('Math.asinh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.log(Math.abs(b)+Math.sqrt(b*b+1));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.log1p',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var f=b;var g=1;var c=b;var d=0;var e=1;while(d!=c){f*=b;e*=-1;c=(d=c)+e*f/++g}return c}return Math.log(1+b)};return b},'es6','es3');$jscomp.polyfill('Math.atanh',function(b){if(b){return b}var a=Math.log1p;var c=function(c){c=Number(c);return (a(c)-a(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.cbrt',function(a){if(a){return a}var b=function(b){if(b===0){return b}b=Number(b);var c=Math.pow(Math.abs(b),1/3);return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.clz32',function(a){if(a){return a}var b=function(b){b=Number(b)>>>0;if(b===0){return 32}var c=0;if((b&4.29490176E9)===0){b<<=16;c+=16}if((b&4.27819008E9)===0){b<<=8;c+=8}if((b&4.02653184E9)===0){b<<=4;c+=4}if((b&3.221225472E9)===0){b<<=2;c+=2}if((b&2.147483648E9)===0){c++}return c};return b},'es6','es3');$jscomp.polyfill('Math.cosh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);return (b(c)+b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.expm1',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var e=b;var f=1;var c=b;var d=0;while(d!=c){e*=b/++f;c=(d=c)+e}return c}return Math.exp(b)-1};return b},'es6','es3');$jscomp.polyfill('Math.hypot',function(a){if(a){return a}var b=function(c,d,h){c=Number(c);d=Number(d);var b,g,f;var e=Math.max(Math.abs(c),Math.abs(d));for(b=2;b<arguments.length;b++){e=Math.max(e,Math.abs(arguments[b]))}if(e>1.0E100||e<1.0E-100){c=c/e;d=d/e;f=c*c+d*d;for(b=2;b<arguments.length;b++){g=Number(arguments[b])/e;f+=g*g}return Math.sqrt(f)*e}else {f=c*c+d*d;for(b=2;b<arguments.length;b++){g=Number(arguments[b]);f+=g*g}return Math.sqrt(f)}};return b},'es6','es3');$jscomp.polyfill('Math.imul',function(a){if(a){return a}var b=function(b,c){b=Number(b);c=Number(c);var f=b>>>16&65535;var d=b&65535;var g=c>>>16&65535;var e=c&65535;var h=f*e+d*g<<16>>>0;return d*e+h|0};return b},'es6','es3');$jscomp.polyfill('Math.log10',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN10};return b},'es6','es3');$jscomp.polyfill('Math.log2',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN2};return b},'es6','es3');$jscomp.polyfill('Math.sign',function(a){if(a){return a}var b=function(b){b=Number(b);return b===0||isNaN(b)?b:b>0?1:-1};return b},'es6','es3');$jscomp.polyfill('Math.sinh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);if(c===0){return c}return (b(c)-b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.tanh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.exp(-2*Math.abs(b));var d=(1-c)/(1+c);return b<0?-d:d};return b},'es6','es3');$jscomp.polyfill('Math.trunc',function(a){if(a){return a}var b=function(b){b=Number(b);if(isNaN(b)||b===Infinity||b===-Infinity||b===0){return b}var c=Math.floor(Math.abs(b));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Number.EPSILON',function(a){return Math.pow(2,-52)},'es6','es3');$jscomp.polyfill('Number.MAX_SAFE_INTEGER',function(){return 9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.MIN_SAFE_INTEGER',function(){return -9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.isFinite',function(a){if(a){return a}var b=function(b){if(typeof b!=='number'){return !1}return !isNaN(b)&&b!==Infinity&&b!==-Infinity};return b},'es6','es3');$jscomp.polyfill('Number.isInteger',function(a){if(a){return a}var b=function(b){if(!Number.isFinite(b)){return !1}return b===Math.floor(b)};return b},'es6','es3');$jscomp.polyfill('Number.isNaN',function(a){if(a){return a}var b=function(b){return typeof b==='number'&&isNaN(b)};return b},'es6','es3');$jscomp.polyfill('Number.isSafeInteger',function(a){if(a){return a}var b=function(b){return Number.isInteger(b)&&Math.abs(b)<=Number.MAX_SAFE_INTEGER};return b},'es6','es3');$jscomp.polyfill('Object.assign',function(a){if(a){return a}var b=function(e,f){for(var d=1;d<arguments.length;d++){var b=arguments[d];if(!b){continue}for(var c in b){if($jscomp.owns(b,c)){e[c]=b[c]}}}return e};return b},'es6','es3');$jscomp.polyfill('Object.entries',function(a){if(a){return a}var b=function(c){var d=[];for(var b in c){if($jscomp.owns(c,b)){d.push([b,c[b]])}}return d};return b},'es8','es3');$jscomp.polyfill('Object.getOwnPropertySymbols',function(a){if(a){return a}return function(){return []}},'es6','es5');$jscomp.polyfill('Reflect.ownKeys',function(b){if(b){return b}var a='jscomp_symbol_';function isSymbol(c){return c.substring(0,a.length)==a}var c=function(e){var f=[];var c=Object.getOwnPropertyNames(e);var d=Object.getOwnPropertySymbols(e);for(var a=0;a<c.length;a++){(isSymbol(c[a])?d:f).push(c[a])}return f.concat(d)};return c},'es6','es5');$jscomp.polyfill('Object.getOwnPropertyDescriptors',function(a){if(a){return a}var b=function(e){var d={};var c=Reflect.ownKeys(e);for(var b=0;b<c.length;b++){d[c[b]]=Object.getOwnPropertyDescriptor(e,c[b])}return d};return b},'es8','es5');$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0};var a={};try{a.__proto__=b;return a.a}catch(c){}return !1};$jscomp.setPrototypeOf=typeof Object.setPrototypeOf=='function'?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b){throw new TypeError(a+' is not extensible')}return a}:null;$jscomp.polyfill('Object.setPrototypeOf',function(a){return a||$jscomp.setPrototypeOf},'es6','es5');$jscomp.polyfill('Object.values',function(a){if(a){return a}var b=function(b){var c=[];for(var d in b){if($jscomp.owns(b,d)){c.push(b[d])}}return c};return b},'es8','es3');$jscomp.polyfill('Reflect.apply',function(a){if(a){return a}var c=Function.prototype.apply;var b=function(e,d,b){return c.call(e,d,b)};return b},'es6','es3');$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=='function'?Object.create:function(b){var a=function(){};a.prototype=b;return new a()};$jscomp.construct=function(){function reflectConstructWorks(){function Base(){}function Derived(){}new Base();Reflect.construct(Base,[],Derived);return new Base() instanceof Base}if(typeof Reflect!='undefined'&&Reflect.construct){if(reflectConstructWorks()){return Reflect.construct}var b=Reflect.construct;var a=function(e,d,a){var c=b(e,d);if(a){Reflect.setPrototypeOf(c,a.prototype)}return c};return a}function construct(b,d,a){if(a===undefined){a=b}var f=a.prototype||Object.prototype;var c=$jscomp.objectCreate(f);var e=Function.prototype.apply;var g=e.call(b,c,d);return g||c}return construct}();$jscomp.polyfill('Reflect.construct',function(a){return $jscomp.construct},'es6','es3');$jscomp.polyfill('Reflect.defineProperty',function(a){if(a){return a}var b=function(e,d,c){try{Object.defineProperty(e,d,c);var b=Object.getOwnPropertyDescriptor(e,d);if(!b){return !1}return b.configurable===(c.configurable||!1)&&b.enumerable===(c.enumerable||!1)&&('value' in b?b.value===c.value&&b.writable===(c.writable||!1):b.get===c.get&&b.set===c.set)}catch(f){return !1}};return b},'es6','es5');$jscomp.polyfill('Reflect.deleteProperty',function(a){if(a){return a}var b=function(c,b){if(!$jscomp.owns(c,b)){return !0}try{return delete c[b]}catch(d){return !1}};return b},'es6','es3');$jscomp.polyfill('Reflect.getOwnPropertyDescriptor',function(a){return a||Object.getOwnPropertyDescriptor},'es6','es5');$jscomp.polyfill('Reflect.getPrototypeOf',function(a){return a||Object.getPrototypeOf},'es6','es5');$jscomp.findDescriptor=function(d,c){var a=d;while(a){var b=Reflect.getOwnPropertyDescriptor(a,c);if(b){return b}a=Reflect.getPrototypeOf(a)}return undefined};$jscomp.polyfill('Reflect.get',function(a){if(a){return a}var b=function(d,c,e){if(arguments.length<=2){return d[c]}var b=$jscomp.findDescriptor(d,c);if(b){return b.get?b.get.call(e):b.value}return undefined};return b},'es6','es5');$jscomp.polyfill('Reflect.has',function(a){if(a){return a}var b=function(c,b){return b in c};return b},'es6','es3');$jscomp.polyfill('Reflect.isExtensible',function(a){if(a){return a}if($jscomp.ASSUME_ES5||typeof Object.isExtensible=='function'){return Object.isExtensible}return function(){return !0}},'es6','es3');$jscomp.polyfill('Reflect.preventExtensions',function(a){if(a){return a}if(!($jscomp.ASSUME_ES5||typeof Object.preventExtensions=='function')){return function(){return !1}}var b=function(b){Object.preventExtensions(b);return !Object.isExtensible(b)};return b},'es6','es3');$jscomp.polyfill('Reflect.set',function(a){if(a){return a}var b=function(b,d,e,f){var c=$jscomp.findDescriptor(b,d);if(!c){if(Reflect.isExtensible(b)){b[d]=e;return !0}return !1}if(c.set){c.set.call(arguments.length>3?f:b,e);return !0}else {if(c.writable&&!Object.isFrozen(b)){b[d]=e;return !0}}return !1};return b},'es6','es5');$jscomp.polyfill('Reflect.setPrototypeOf',function(a){if(a){return a}else {if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;var c=function(c,d){try{b(c,d);return !0}catch(e){return !1}};return c}else {return null}}},'es6','es5');$jscomp.polyfill('Set',function(b){var c=!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!b||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var d=Object.seal({x:4});var c=new b($jscomp.makeIterator([d]));if(!c.has(d)||c.size!=1||c.add(d)!=c||c.size!=1||c.add({x:4})!=c||c.size!=2){return !1}var e=c.entries();var a=e.next();if(a.done||a.value[0]!=d||a.value[1]!=d){return !1}a=e.next();if(a.done||a.value[0]==d||a.value[0].x!=4||a.value[1]!=a.value[0]){return !1}return e.next().done}catch(f){return !1}}();if(c){return b}$jscomp.initSymbol();$jscomp.initSymbolIterator();var a=function(a){this.map_=new Map();if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}this.size=this.map_.size};a.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};a.prototype['delete']=function(c){var a=this.map_['delete'](c);this.size=this.map_.size;return a};a.prototype.clear=function(){this.map_.clear();this.size=0};a.prototype.has=function(a){return this.map_.has(a)};a.prototype.entries=function(){return this.map_.entries()};a.prototype.values=function(){return this.map_.values()};a.prototype.keys=a.prototype.values;a.prototype[Symbol.iterator]=a.prototype.values;a.prototype.forEach=function(c,a){var d=this;this.map_.forEach(function(e){return c.call(a,e,e,d)})};return a},'es6','es3');$jscomp.checkStringArgs=function(a,c,b){if(a==null){throw new TypeError("The 'this' value for String.prototype."+b+' must not be null or undefined')}if(c instanceof RegExp){throw new TypeError('First argument to String.prototype.'+b+' must not be a regular expression')}return a+''};$jscomp.polyfill('String.prototype.codePointAt',function(a){if(a){return a}var b=function(b){var e=$jscomp.checkStringArgs(this,null,'codePointAt');var f=e.length;b=Number(b)||0;if(!(b>=0&&b<f)){return void 0}b=b|0;var c=e.charCodeAt(b);if(c<55296||c>56319||b+1===f){return c}var d=e.charCodeAt(b+1);if(d<56320||d>57343){return c}return (c-55296)*1024+d+9216};return b},'es6','es3');$jscomp.polyfill('String.prototype.endsWith',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'endsWith');b=b+'';if(c===void 0){c=d.length}var f=Math.max(0,Math.min(c|0,d.length));var e=b.length;while(e>0&&f>0){if(d[--f]!=b[--e]){return !1}}return e<=0};return b},'es6','es3');$jscomp.polyfill('String.fromCodePoint',function(a){if(a){return a}var b=function(e){var c='';for(var d=0;d<arguments.length;d++){var b=Number(arguments[d]);if(b<0||b>1114111||b!==Math.floor(b)){throw new RangeError('invalid_code_point '+b)}if(b<=65535){c+=String.fromCharCode(b)}else {b-=65536;c+=String.fromCharCode(b>>>10&1023|55296);c+=String.fromCharCode(b&1023|56320)}}return c};return b},'es6','es3');$jscomp.polyfill('String.prototype.includes',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'includes');return d.indexOf(b,c||0)!==-1};return b},'es6','es3');$jscomp.polyfill('String.prototype.repeat',function(a){if(a){return a}var b=function(b){var c=$jscomp.checkStringArgs(this,null,'repeat');if(b<0||b>1342177279){throw new RangeError('Invalid count value')}b=b|0;var d='';while(b){if(b&1){d+=c}if(b>>>=1){c+=c}}return d};return b},'es6','es3');$jscomp.stringPadding=function(c,a){var b=c!==undefined?String(c):' ';if(!(a>0)||!b){return ''}var d=Math.ceil(a/b.length);return b.repeat(d).substring(0,a)};$jscomp.polyfill('String.prototype.padEnd',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return b+$jscomp.stringPadding(c,e)};return b},'es8','es3');$jscomp.polyfill('String.prototype.padStart',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return $jscomp.stringPadding(c,e)+b};return b},'es8','es3');$jscomp.polyfill('String.prototype.startsWith',function(a){if(a){return a}var b=function(b,g){var c=$jscomp.checkStringArgs(this,b,'startsWith');b=b+'';var h=c.length;var e=b.length;var f=Math.max(0,Math.min(g|0,c.length));var d=0;while(d<e&&f<h){if(c[f++]!=b[d++]){return !1}}return d>=e};return b},'es6','es3');$jscomp.arrayFromIterator=function(c){var b;var a=[];while(!(b=c.next()).done){a.push(b.value)}return a};$jscomp.arrayFromIterable=function(a){if(a instanceof Array){return a}else {return $jscomp.arrayFromIterator($jscomp.makeIterator(a))}};$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var e=$jscomp.setPrototypeOf;e(a,b)}else {for(var c in b){if(c=='prototype'){continue}if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);if(d){Object.defineProperty(a,c,d)}}else {a[c]=b[c]}}}a.superClass_=b.prototype};$jscomp.polyfill('WeakSet',function(b){function isConformant(){if(!b||!Object.seal){return !1}try{var c=Object.seal({});var d=Object.seal({});var a=new b([c]);if(!a.has(c)||a.has(d)){return !1}a['delete'](c);a.add(d);return !a.has(c)&&a.has(d)}catch(e){return !1}}if(isConformant()){return b}var a=function(a){this.map_=new WeakMap();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}};a.prototype.add=function(a){this.map_.set(a,!0);return this};a.prototype.has=function(a){return this.map_.has(a)};a.prototype['delete']=function(a){return this.map_['delete'](a)};return a},'es6','es3');try{if(Array.prototype.values.toString().indexOf('[native code]')==-1){delete Array.prototype.values}}catch(a){}!function(b,a){'object'==typeof exports&&'undefined'!=typeof module?a(exports):'function'==typeof define&&define.amd?define(['exports'],a):a(b.L={})}(this,function(t){function i(e){var b,a,d,c;for(a=1,d=arguments.length;a<d;a++){c=arguments[a];for(b in c){e[b]=c[b]}}return e}function e(a,d){var b=Array.prototype.slice;if(a.bind){return a.bind.apply(a,b.call(arguments,1))}var c=b.call(arguments,2);return function(){return a.apply(d,c.length?c.concat(b.call(arguments)):arguments)}}function n(a){return a._leaflet_id=a._leaflet_id||++b$,a._leaflet_id}function o(g,f,c){var b,a,e,d;return d=function(){b=!1,a&&(e.apply(c,a),a=!1)},e=function(){b?a=arguments:(g.apply(c,arguments),setTimeout(d,f),b=!0)}}function s(c,d,f){var e=d[1],a=d[0],b=e-a;return c===e&&f?c:((c-a)%b+b)%b+a}function r(){return !1}function a(c,b){var a=Math.pow(10,void 0===b?6:b);return Math.round(c*a)/a}function h(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,'')}function u(a){return h(a).split(/\s+/)}function l(a,c){a.hasOwnProperty('options')||(a.options=a.options?aW(a.options):{});for(var b in c){a.options[b]=c[b]}return a.options}function c(d,b,e){var c=[];for(var a in d){c.push(encodeURIComponent(e?a.toUpperCase():a)+'='+encodeURIComponent(d[a]))}return (b&&-1!==b.indexOf('?')?'&':'?')+c.join('&')}function _(b,a){return b.replace(cg,function(e,d){var c=a[d];if(void 0===c){throw new Error('No value provided for variable '+e)}return 'function'==typeof c&&(c=c(a)),c})}function d(b,c){for(var a=0;a<b.length;a++){if(b[a]===c){return a}}return -1}function p(a){return window['webkit'+a]||window['moz'+a]||window['ms'+a]}function m(c){var b=+new Date(),a=Math.max(0,16-(b-bV));return bV=b+a,window.setTimeout(c,a)}function f(b,a,c){if(!c||bp!==m){return bp.call(window,e(b,a))}b.call(a)}function g(a){a&&bY.call(window,a)}function v(){}function y(a){if('undefined'!=typeof L&&L&&L.Mixin){a=aj(a)?a:[a];for(var b=0;b<a.length;b++){a[b]===L.Mixin.Events&&console.warn('Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.',(new Error()).stack)}}}function x(c,b,a){this.x=a?Math.round(c):c,this.y=a?Math.round(b):b}function w(a,c,b){return a instanceof x?a:aj(a)?new x(a[0],a[1]):void 0===a||null===a?a:'object'==typeof a&&'x' in a&&'y' in a?new x(a.x,a.y):new x(a,c,b)}function P(b,d){if(b){for(var c=d?[b,d]:b,a=0,e=c.length;a<e;a++){this.extend(c[a])}}}function b(a,b){return !a||a instanceof P?a:new P(a,b)}function T(b,d){if(b){for(var c=d?[b,d]:b,a=0,e=c.length;a<e;a++){this.extend(c[a])}}}function z(a,b){return a instanceof T?a:new T(a,b)}function M(b,a,c){if(isNaN(b)||isNaN(a)){throw new Error('Invalid LatLng object: ('+b+', '+a+')')}this.lat=+b,this.lng=+a,void 0!==c&&(this.alt=+c)}function C(a,b,c){return a instanceof M?a:aj(a)&&'object'!=typeof a[0]?3===a.length?new M(a[0],a[1],a[2]):2===a.length?new M(a[0],a[1]):null:void 0===a||null===a?a:'object'==typeof a&&'lat' in a?new M(a.lat,'lng' in a?a.lng:a.lon,a.alt):void 0===b?null:new M(a,b,c)}function Z(a,c,b,d){if(aj(a)){return this._a=a[0],this._b=a[1],this._c=a[2],void (this._d=a[3])}this._a=a,this._b=c,this._c=b,this._d=d}function S(d,b,a,c){return new Z(d,b,a,c)}function E(a){return document.createElementNS('http://www.w3.org/2000/svg',a)}function k(h,i){var b,a,e,g,f,c,d='';for(b=0,e=h.length;b<e;b++){for(a=0,g=(f=h[b]).length;a<g;a++){c=f[a],d+=(a?'L':'M')+c.x+' '+c.y}d+=i?aX?'z':'x':''}return d||'M0 0'}function A(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}function I(d,b,a,c){return 'touchstart'===b?O(d,a,c):'touchmove'===b?W(d,a,c):'touchend'===b&&H(d,a,c),this}function B(a,b,d){var c=a['_leaflet_'+b+d];return 'touchstart'===b?a.removeEventListener(a8,c,!1):'touchmove'===b?a.removeEventListener(bq,c,!1):'touchend'===b&&(a.removeEventListener(bi,c,!1),a.removeEventListener(bf,c,!1)),this}function O(b,c,d){var a=e(function(a){if('mouse'!==a.pointerType&&a.MSPOINTER_TYPE_MOUSE&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE){if(!(ci.indexOf(a.target.tagName)<0)){return}$(a)}j(a,c)});b['_leaflet_touchstart'+d]=a,b.addEventListener(a8,a,!1),bZ||(document.documentElement.addEventListener(a8,R,!0),document.documentElement.addEventListener(bq,D,!0),document.documentElement.addEventListener(bi,N,!0),document.documentElement.addEventListener(bf,N,!0),bZ=!0)}function R(a){aD[a.pointerId]=a,bn++}function D(a){aD[a.pointerId]&&(aD[a.pointerId]=a)}function N(a){delete aD[a.pointerId],bn--}function j(a,c){a.touches=[];for(var b in aD){a.touches.push(aD[b])}a.changedTouches=[a],c(a)}function W(b,d,c){var a=function(a){(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&'mouse'!==a.pointerType||0!==a.buttons)&&j(a,d)};b['_leaflet_touchmove'+c]=a,b.addEventListener(bq,a,!1)}function H(b,d,c){var a=function(a){j(a,d)};b['_leaflet_touchend'+c]=a,b.addEventListener(bi,a,!1),b.addEventListener(bf,a,!1)}function F(b,d,c){function n(h){var j;if(af){if(!aI||'mouse'===h.pointerType){return}j=bn}else {j=h.touches.length}if(!(j>1)){var i=Date.now(),k=i-(e||i);a=h.touches?h.touches[0]:h,f=k>0&&k<=g,e=i}}function o(j){if(f&&!a.cancelBubble){if(af){if(!aI||'mouse'===j.pointerType){return}var g,h,i={};for(h in a){g=a[h],i[h]=g&&g.bind?g.bind(a):g}a=i}a.type='dblclick',d(a),e=null}}var e,a,f=!1,g=250;return b[aE+aY+c]=n,b[aE+aZ+c]=o,b[aE+'dblclick'+c]=d,b.addEventListener(aY,n,!1),b.addEventListener(aZ,o,!1),b.addEventListener('dblclick',d,!1),this}function U(a,b){var c=a[aE+aY+b],d=a[aE+aZ+b],e=a[aE+'dblclick'+b];return a.removeEventListener(aY,c,!1),a.removeEventListener(aZ,d,!1),aI||a.removeEventListener('dblclick',e,!1),this}function V(e,a,c,f){if('object'==typeof a){for(var d in a){G(e,d,a[d],c)}}else {for(var b=0,g=(a=u(a)).length;b<g;b++){G(e,a[b],c,f)}}return this}function q(b,a,e,g){if('object'==typeof a){for(var f in a){K(b,f,a[f],e)}}else {if(a){for(var c=0,h=(a=u(a)).length;c<h;c++){K(b,a[c],e,g)}}else {for(var d in b[ag]){K(b,d,b[ag][d])}delete b[ag]}}return this}function G(a,b,g,e){var d=b+n(g)+(e?'_'+n(e):'');if(a[ag]&&a[ag][d]){return this}var c=function(c){return g.call(e||a,c||window.event)},f=c;af&&0===b.indexOf('touch')?I(a,b,c,d):!ah||'dblclick'!==b||!F||af&&aJ?'addEventListener' in a?'mousewheel'===b?a.addEventListener('onwheel' in a?'wheel':'mousewheel',c,!1):'mouseenter'===b||'mouseleave'===b?(c=function(c){c=c||window.event,ot(a,c)&&f(c)},a.addEventListener('mouseenter'===b?'mouseover':'mouseout',c,!1)):('click'===b&&ay&&(c=function(c){st(c,f)}),a.addEventListener(b,c,!1)):'attachEvent' in a&&a.attachEvent('on'+b,c):F(a,c,d),a[ag]=a[ag]||{},a[ag][d]=c}function K(a,b,f,e){var d=b+n(f)+(e?'_'+n(e):''),c=a[ag]&&a[ag][d];if(!c){return this}af&&0===b.indexOf('touch')?B(a,b,d):!ah||'dblclick'!==b||!U||af&&aJ?'removeEventListener' in a?'mousewheel'===b?a.removeEventListener('onwheel' in a?'wheel':'mousewheel',c,!1):a.removeEventListener('mouseenter'===b?'mouseover':'mouseleave'===b?'mouseout':b,c,!1):'detachEvent' in a&&a.detachEvent('on'+b,c):U(a,d),a[ag][d]=null}function Y(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,nt(a),this}function X(a){return G(a,'mousewheel',Y),this}function J(a){return V(a,'mousedown touchstart dblclick',Y),G(a,'click',et),this}function $(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Q(a){return $(a),Y(a),this}function tt(c,a){if(!a){return new x(c.clientX,c.clientY)}var b=a.getBoundingClientRect(),d=b.width/a.offsetWidth||1,e=b.height/a.offsetHeight||1;return new x(c.clientX/d-b.left-a.clientLeft,c.clientY/e-b.top-a.clientTop)}function it(a){return aI?a.wheelDeltaY/2:a.deltaY&&0===a.deltaMode?-a.deltaY/ce:a.deltaY&&1===a.deltaMode?20*-a.deltaY:a.deltaY&&2===a.deltaMode?60*-a.deltaY:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?20*-a.detail:a.detail?a.detail/-32765*60:0}function et(a){bb[a.type]=!0}function nt(a){var b=bb[a.type];return bb[a.type]=!1,b}function ot(b,c){var a=c.relatedTarget;if(!a){return !0}try{for(;a&&a!==b;){a=a.parentNode}}catch(cn){return !1}return a!==b}function st(a,d){var c=a.timeStamp||a.originalEvent&&a.originalEvent.timeStamp,b=bm&&c-bm;b&&b>100&&b<500||a.target._simulatedClick&&!a._simulated?Q(a):(bm=c,d(a))}function rt(a){return 'string'==typeof a?document.getElementById(a):a}function at(b,c){var a=b.style[c]||b.currentStyle&&b.currentStyle[c];if((!a||'auto'===a)&&document.defaultView){var d=document.defaultView.getComputedStyle(b,null);a=d?d[c]:null}return 'auto'===a?null:a}function ht(d,c,b){var a=document.createElement(d);return a.className=c||'',b&&b.appendChild(a),a}function ut(b){var a=b.parentNode;a&&a.removeChild(b)}function lt(a){for(;a.firstChild;){a.removeChild(a.firstChild)}}function ct(a){var b=a.parentNode;b.lastChild!==a&&b.appendChild(a)}function _t(b){var a=b.parentNode;a.firstChild!==b&&a.insertBefore(b,a.firstChild)}function dt(a,c){if(void 0!==a.classList){return a.classList.contains(c)}var b=gt(a);return b.length>0&&(new RegExp('(^|\\s)'+c+'(\\s|$)')).test(b)}function pt(a,b){if(void 0!==a.classList){for(var d=u(b),c=0,f=d.length;c<f;c++){a.classList.add(d[c])}}else {if(!dt(a,b)){var e=gt(a);ft(a,(e?e+' ':'')+b)}}}function mt(a,b){void 0!==a.classList?a.classList.remove(b):ft(a,h((' '+gt(a)+' ').replace(' '+b+' ',' ')))}function ft(a,b){void 0===a.className.baseVal?a.className=b:a.className.baseVal=b}function gt(a){return void 0===a.className.baseVal?a.className:a.className.baseVal}function vt(a,b){'opacity' in a.style?a.style.opacity=b:'filter' in a.style&&yt(a,b)}function yt(d,a){var b=!1,c='DXImageTransform.Microsoft.Alpha';try{b=d.filters.item(c)}catch(cn){if(1===a){return}}a=Math.round(100*a),b?(b.Enabled=100!==a,b.Opacity=a):d.style.filter+=' progid:'+c+'(opacity='+a+')'}function xt(b){for(var c=document.documentElement.style,a=0;a<b.length;a++){if(b[a] in c){return b[a]}}return !1}function wt(d,c,b){var a=c||new x(0,0);d.style[bl]=(a6?'translate('+a.x+'px,'+a.y+'px)':'translate3d('+a.x+'px,'+a.y+'px,0)')+(b?' scale('+b+')':'')}function Lt(b,a){b._leaflet_pos=a,ac?wt(b,a):(b.style.left=a.x+'px',b.style.top=a.y+'px')}function Pt(a){return a._leaflet_pos||new x(0,0)}function bt(){V(window,'dragstart',$)}function Tt(){q(window,'dragstart',$)}function zt(a){for(;-1===a.tabIndex;){a=a.parentNode}a.style&&(Mt(),a$=a,bu=a.style.outline,a.style.outline='none',V(window,'keydown',Mt))}function Mt(){a$&&(a$.style.outline=bu,a$=void 0,bu=void 0,q(window,'keydown',Mt))}function Ct(a,b){if(!b||!a.length){return a.slice()}var c=b*b;return a=kt(a,c),a=St(a,c)}function Zt(c,b,a){return Math.sqrt(Rt(c,b,a,!0))}function St(d,f){var b=d.length,c=new (typeof Uint8Array!=void 0+''?Uint8Array:Array)(b);c[0]=c[b-1]=1,Et(d,c,f,0,b-1);var a,e=[];for(a=0;a<b;a++){c[a]&&e.push(d[a])}return e}function Et(b,f,d,g,h){var c,a,i,e=0;for(a=g+1;a<=h-1;a++){(i=Rt(b[a],b[g],b[h],!0))>e&&(c=a,e=i)}e>d&&(f[c]=1,Et(b,f,d,g,c),Et(b,f,d,c,h))}function kt(a,f){for(var c=[a[0]],b=1,d=0,e=a.length;b<e;b++){Ot(a[b],a[d])>f&&(c.push(a[b]),d=b)}return d<e-1&&c.push(a[e-1]),c}function At(e,d,c,i,j){var h,g,f,a=i?bJ:Bt(e,c),b=Bt(d,c);for(bJ=b;;){if(!(a|b)){return [e,d]}if(a&b){return !1}f=Bt(g=It(e,d,h=a||b,c,j),c),h===a?(e=g,a=f):(d=g,b=f)}}function It(a,i,e,j,k){var c,b,d=i.x-a.x,f=i.y-a.y,h=j.min,g=j.max;return 8&e?(c=a.x+d*(g.y-a.y)/f,b=g.y):4&e?(c=a.x+d*(h.y-a.y)/f,b=h.y):2&e?(c=g.x,b=a.y+f*(g.x-a.x)/d):1&e&&(c=h.x,b=a.y+f*(h.x-a.x)/d),new x(c,b,k)}function Bt(c,b){var a=0;return c.x<b.min.x?a|=1:c.x>b.max.x&&(a|=2),c.y<b.min.y?a|=4:c.y>b.max.y&&(a|=8),a}function Ot(d,b){var a=b.x-d.x,c=b.y-d.y;return a*a+c*c}function Rt(g,h,e,j){var f,d=h.x,c=h.y,a=e.x-d,b=e.y-c,i=a*a+b*b;return i>0&&((f=((g.x-d)*a+(g.y-c)*b)/i)>1?(d=e.x,c=e.y):f>0&&(d+=a*f,c+=b*f)),a=g.x-d,b=g.y-c,j?a*a+b*b:new x(d,c)}function Dt(a){return !aj(a[0])||'object'!=typeof a[0][0]&&void 0!==a[0][0]}function Nt(a){return console.warn('Deprecated use of _flat, please use L.LineUtil.isFlat instead.'),Dt(a)}function jt(b,g,l){var h,a,k,i,e,f,j,d,c,m=[1,4,2,8];for(a=0,j=b.length;a<j;a++){b[a]._code=Bt(b[a],g)}for(i=0;i<4;i++){for(d=m[i],h=[],a=0,k=(j=b.length)-1;a<j;k=a++){e=b[a],f=b[k],e._code&d?f._code&d||((c=It(f,e,d,g,l))._code=Bt(c,g),h.push(c)):(f._code&d&&((c=It(f,e,d,g,l))._code=Bt(c,g),h.push(c)),h.push(e))}b=h}return b}function Wt(f,c){var e,i,a,j,b='Feature'===f.type?f.geometry:f,d=b?b.coordinates:null,g=[],k=c&&c.pointToLayer,h=c&&c.coordsToLatLng||Ht;if(!d&&!b){return null}switch(b.type){case 'Point':return e=h(d),k?k(f,e):new aK(e);case 'MultiPoint':for(a=0,j=d.length;a<j;a++){e=h(d[a]),g.push(k?k(f,e):new aK(e))};return new av(g);case 'LineString':case 'MultiLineString':return i=Ft(d,'LineString'===b.type?0:1,h),new ao(i,c);case 'Polygon':case 'MultiPolygon':return i=Ft(d,'Polygon'===b.type?1:2,h),new aA(i,c);case 'GeometryCollection':for(a=0,j=b.geometries.length;a<j;a++){var l=Wt({geometry:b.geometries[a],type:'Feature',properties:f.properties},c);l&&g.push(l)};return new av(g);default:throw new Error('Invalid GeoJSON object.');}}function Ht(a){return new M(a[1],a[0],a[2])}function Ft(b,d,c){for(var e,f=[],a=0,g=b.length;a<g;a++){e=d?Ft(b[a],d-1,c):(c||Ht)(b[a]),f.push(e)}return f}function Ut(c,b){return b='number'==typeof b?b:6,void 0!==c.alt?[a(c.lng,b),a(c.lat,b),a(c.alt,b)]:[a(c.lng,b),a(c.lat,b)]}function Vt(d,c,e,f){for(var a=[],b=0,g=d.length;b<g;b++){a.push(c?Vt(d[b],c-1,e,f):Ut(d[b],f))}return !c&&e&&a.push(a[0]),a}function qt(b,a){return b.feature?i({},b.feature,{geometry:a}):Gt(a)}function Gt(a){return 'Feature'===a.type||'FeatureCollection'===a.type?a:{type:'Feature',properties:{},geometry:a}}function Kt(b,a){return new an(b,a)}function Yt(b,a){return new aM(b,a)}function Xt(a){return bN?new bg(a):null}function Jt(a){return aX||aV?new aG(a):null}var bw=Object.freeze;Object.freeze=function(a){return a};var aW=Object.create||function(){function t(){}return function(a){return t.prototype=a,new t()}}(),b$=0,cg=/\{ *([\w_-]+) *\}/g,aj=Array.isArray||function(a){return '[object Array]'===Object.prototype.toString.call(a)},bj='data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=',bV=0,bp=window.requestAnimationFrame||p('RequestAnimationFrame')||m,bY=window.cancelAnimationFrame||p('CancelAnimationFrame')||p('CancelRequestAnimationFrame')||function(a){window.clearTimeout(a)},cd=(Object.freeze||Object)({freeze:bw,extend:i,create:aW,bind:e,lastId:b$,stamp:n,throttle:o,wrapNum:s,falseFn:r,formatNum:a,trim:h,splitWords:u,setOptions:l,getParamString:c,template:_,isArray:aj,indexOf:d,emptyImageUrl:bj,requestFn:bp,cancelFn:bY,requestAnimFrame:f,cancelAnimFrame:g});v.extend=function(b){var c=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},e=c.__super__=this.prototype,a=aW(e);a.constructor=c,c.prototype=a;for(var d in this){this.hasOwnProperty(d)&&'prototype'!==d&&'__super__'!==d&&(c[d]=this[d])}return b.statics&&(i(c,b.statics),delete b.statics),b.includes&&(y(b.includes),i.apply(null,[a].concat(b.includes)),delete b.includes),a.options&&(b.options=i(aW(a.options),b.options)),i(a,b),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){e.callInitHooks&&e.callInitHooks.call(this),this._initHooksCalled=!0;for(var c=0,d=a._initHooks.length;c<d;c++){a._initHooks[c].call(this)}}},c},v.include=function(a){return i(this.prototype,a),this},v.mergeOptions=function(a){return i(this.prototype.options,a),this},v.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),b='function'==typeof a?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};var ab={on:function(a,c,e){if('object'==typeof a){for(var d in a){this._on(d,a[d],c)}}else {for(var b=0,f=(a=u(a)).length;b<f;b++){this._on(a[b],c,e)}}return this},off:function(a,c,e){if(a){if('object'==typeof a){for(var d in a){this._off(d,a[d],c)}}else {for(var b=0,f=(a=u(a)).length;b<f;b++){this._off(a[b],c,e)}}}else {delete this._events}return this},_on:function(f,e,a){this._events=this._events||{};var b=this._events[f];b||(b=[],this._events[f]=b),a===this&&(a=void 0);for(var h={fn:e,ctx:a},d=b,c=0,g=d.length;c<g;c++){if(d[c].fn===e&&d[c].ctx===a){return}}d.push(h)},_off:function(f,g,e){var a,b,c;if(this._events&&(a=this._events[f])){if(g){if(e===this&&(e=void 0),a){for(b=0,c=a.length;b<c;b++){var d=a[b];if(d.ctx===e&&d.fn===g){return d.fn=r,this._firingCount&&(this._events[f]=a=a.slice()),void a.splice(b,1)}}}}else {for(b=0,c=a.length;b<c;b++){a[b].fn=r}delete this._events[f]}}},fire:function(d,a,f){if(!this.listens(d,f)){return this}var g=i({},a,{type:d,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var c=this._events[d];if(c){this._firingCount=this._firingCount+1||1;for(var b=0,h=c.length;b<h;b++){var e=c[b];e.fn.call(e.ctx||this,g)}this._firingCount--}}return f&&this._propagateEvent(g),this},listens:function(c,b){var a=this._events&&this._events[c];if(a&&a.length){return !0}if(b){for(var d in this._eventParents){if(this._eventParents[d].listens(c,b)){return !0}}}return !1},once:function(a,c,b){if('object'==typeof a){for(var d in a){this.once(d,a[d],c)}return this}var f=e(function(){this.off(a,c,b).off(a,f,b)},this);return this.on(a,c,b).on(a,f,b)},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[n(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[n(a)],this},_propagateEvent:function(a){for(var b in this._eventParents){this._eventParents[b].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}}};ab.addEventListener=ab.on,ab.removeEventListener=ab.clearAllEventListeners=ab.off,ab.addOneTimeEventListener=ab.once,ab.fireEvent=ab.fire,ab.hasEventListeners=ab.listens;var aS=v.extend(ab),bU=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};x.prototype={clone:function(){return new x(this.x,this.y)},add:function(a){return this.clone()._add(w(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(w(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new x(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new x(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=bU(this.x),this.y=bU(this.y),this},distanceTo:function(a){var c=(a=w(a)).x-this.x,b=a.y-this.y;return Math.sqrt(c*c+b*b)},equals:function(a){return (a=w(a)).x===this.x&&a.y===this.y},contains:function(a){return a=w(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return 'Point('+a(this.x)+', '+a(this.y)+')'}},P.prototype={extend:function(a){return a=w(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new x((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new x(this.min.x,this.max.y)},getTopRight:function(){return new x(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var d,c;return (a='number'==typeof a[0]||a instanceof x?w(a):b(a)) instanceof P?(d=a.min,c=a.max):d=c=a,d.x>=this.min.x&&c.x<=this.max.x&&d.y>=this.min.y&&c.y<=this.max.y},intersects:function(a){a=b(a);var d=this.min,c=this.max,e=a.min,f=a.max,h=f.x>=d.x&&e.x<=c.x,g=f.y>=d.y&&e.y<=c.y;return h&&g},overlaps:function(a){a=b(a);var d=this.min,c=this.max,e=a.min,f=a.max,h=f.x>d.x&&e.x<c.x,g=f.y>d.y&&e.y<c.y;return h&&g},isValid:function(){return !(!this.min||!this.max)}},T.prototype={extend:function(a){var c,b,d=this._southWest,e=this._northEast;if(a instanceof M){c=a,b=a}else {if(!(a instanceof T)){return a?this.extend(C(a)||z(a)):this}if(c=a._southWest,b=a._northEast,!c||!b){return this}}return d||e?(d.lat=Math.min(c.lat,d.lat),d.lng=Math.min(c.lng,d.lng),e.lat=Math.max(b.lat,e.lat),e.lng=Math.max(b.lng,e.lng)):(this._southWest=new M(c.lat,c.lng),this._northEast=new M(b.lat,b.lng)),this},pad:function(e){var b=this._southWest,a=this._northEast,c=Math.abs(b.lat-a.lat)*e,d=Math.abs(b.lng-a.lng)*e;return new T(new M(b.lat-c,b.lng-d),new M(a.lat+c,a.lng+d))},getCenter:function(){return new M((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new M(this.getNorth(),this.getWest())},getSouthEast:function(){return new M(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a='number'==typeof a[0]||a instanceof M||'lat' in a?C(a):z(a);var c,b,d=this._southWest,e=this._northEast;return a instanceof T?(c=a.getSouthWest(),b=a.getNorthEast()):c=b=a,c.lat>=d.lat&&b.lat<=e.lat&&c.lng>=d.lng&&b.lng<=e.lng},intersects:function(a){a=z(a);var c=this._southWest,b=this._northEast,d=a.getSouthWest(),e=a.getNorthEast(),g=e.lat>=c.lat&&d.lat<=b.lat,f=e.lng>=c.lng&&d.lng<=b.lng;return g&&f},overlaps:function(a){a=z(a);var c=this._southWest,b=this._northEast,d=a.getSouthWest(),e=a.getNorthEast(),g=e.lat>c.lat&&d.lat<b.lat,f=e.lng>c.lng&&d.lng<b.lng;return g&&f},toBBoxString:function(){return [this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(',')},equals:function(a,b){return !!a&&(a=z(a),this._southWest.equals(a.getSouthWest(),b)&&this._northEast.equals(a.getNorthEast(),b))},isValid:function(){return !(!this._southWest||!this._northEast)}},M.prototype={equals:function(a,b){return !!a&&(a=C(a),Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=(void 0===b?1.0E-9:b))},toString:function(b){return 'LatLng('+a(this.lat,b)+', '+a(this.lng,b)+')'},distanceTo:function(a){return as.distance(this,C(a))},wrap:function(){return as.wrapLatLng(this)},toBounds:function(c){var a=180*c/40075017,b=a/Math.cos(Math.PI/180*this.lat);return z([this.lat-a,this.lng-b],[this.lat+a,this.lng+b])},clone:function(){return new M(this.lat,this.lng,this.alt)}};var al={latLngToPoint:function(d,b){var a=this.projection.project(d),c=this.scale(b);return this.transformation._transform(a,c)},pointToLatLng:function(d,b){var a=this.scale(b),c=this.transformation.untransform(d,a);return this.projection.unproject(c)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite){return null}var b=this.projection.bounds,a=this.scale(c);return new P(this.transformation.transform(b.min,a),this.transformation.transform(b.max,a))},infinite:!1,wrapLatLng:function(a){var b=this.wrapLng?s(a.lng,this.wrapLng,!0):a.lng;return new M(this.wrapLat?s(a.lat,this.wrapLat,!0):a.lat,b,a.alt)},wrapLatLngBounds:function(a){var b=a.getCenter(),e=this.wrapLatLng(b),c=b.lat-e.lat,d=b.lng-e.lng;if(0===c&&0===d){return a}var g=a.getSouthWest(),f=a.getNorthEast();return new T(new M(g.lat-c,g.lng-d),new M(f.lat-c,f.lng-d))}},as=i({},al,{wrapLng:[-180,180],R:6371000,distance:function(c,b){var a=Math.PI/180,h=c.lat*a,i=b.lat*a,f=Math.sin((b.lat-c.lat)*a/2),e=Math.sin((b.lng-c.lng)*a/2),d=f*f+Math.cos(h)*Math.cos(i)*e*e,g=2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d));return this.R*g}}),be={R:6378137,MAX_LATITUDE:85.0511287798,project:function(d){var b=Math.PI/180,a=this.MAX_LATITUDE,e=Math.max(Math.min(a,d.lat),-a),c=Math.sin(e*b);return new x(this.R*d.lng*b,this.R*Math.log((1+c)/(1-c))/2)},unproject:function(b){var a=180/Math.PI;return new M((2*Math.atan(Math.exp(b.y/this.R))-Math.PI/2)*a,b.x*a/this.R)},bounds:function(){var a=6378137*Math.PI;return new P([-a,-a],[a,a])}()};Z.prototype={transform:function(b,a){return this._transform(b.clone(),a)},_transform:function(a,b){return b=b||1,a.x=b*(this._a*a.x+this._b),a.y=b*(this._c*a.y+this._d),a},untransform:function(b,a){return a=a||1,new x((b.x/a-this._b)/this._a,(b.y/a-this._d)/this._c)}};var bm,aR,aN,bh,br=i({},as,{code:'EPSG:3857',projection:be,transformation:function(){var a=0.5/(Math.PI*be.R);return S(a,0.5,-a,0.5)}()}),cm=i({},br,{code:'EPSG:900913'}),bs=document.documentElement.style,a_='ActiveXObject' in window,ax=a_&&!document.addEventListener,aI='msLaunchUri' in navigator&&!('documentMode' in document),bd=A('webkit'),ay=A('android'),aT=A('android 2')||A('android 3'),b7=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),bA=ay&&A('Google')&&b7<537&&!('AudioNode' in window),ba=!!window.opera,aJ=A('chrome'),a3=A('gecko')&&!bd&&!ba&&!a_,bT=!aJ&&A('safari'),by=A('phantom'),bE='OTransition' in bs,bz=0===navigator.platform.indexOf('Win'),a6=a_&&'transition' in bs,a9='WebKitCSSMatrix' in window&&'m11' in new window.WebKitCSSMatrix()&&!aT,bC='MozPerspective' in bs,ac=!window.L_DISABLE_3D&&(a6||a9||bC)&&!bE&&!by,aB='undefined'!=typeof orientation||A('mobile'),cb=aB&&bd,b6=aB&&a9,ap=!window.PointerEvent&&window.MSPointerEvent,af=!(!window.PointerEvent&&!ap),ah=!window.L_NO_TOUCH&&(af||'ontouchstart' in window||window.DocumentTouch&&document instanceof window.DocumentTouch),bX=aB&&ba,b5=aB&&a3,ar=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,bN=!!document.createElement('canvas').getContext,aX=!(!document.createElementNS||!E('svg').createSVGRect),aV=!aX&&function(){try{var b=document.createElement('div');b.innerHTML='<v:shape adj="1"/>';var a=b.firstChild;return a.style.behavior='url(#default#VML)',a&&'object'==typeof a.adj}catch(cn){return !1}}(),b2=(Object.freeze||Object)({ie:a_,ielt9:ax,edge:aI,webkit:bd,android:ay,android23:aT,androidStock:bA,opera:ba,chrome:aJ,gecko:a3,safari:bT,phantom:by,opera12:bE,win:bz,ie3d:a6,webkit3d:a9,gecko3d:bC,any3d:ac,mobile:aB,mobileWebkit:cb,mobileWebkit3d:b6,msPointer:ap,pointer:af,touch:ah,mobileOpera:bX,mobileGecko:b5,retina:ar,canvas:bN,svg:aX,vml:aV}),a8=ap?'MSPointerDown':'pointerdown',bq=ap?'MSPointerMove':'pointermove',bi=ap?'MSPointerUp':'pointerup',bf=ap?'MSPointerCancel':'pointercancel',ci=['INPUT','SELECT','OPTION'],aD={},bZ=!1,bn=0,aY=ap?'MSPointerDown':af?'pointerdown':'touchstart',aZ=ap?'MSPointerUp':af?'pointerup':'touchend',aE='_leaflet_',ag='_leaflet_events',ce=bz&&aJ?2*window.devicePixelRatio:a3?window.devicePixelRatio:1,bb={},cf=(Object.freeze||Object)({on:V,off:q,stopPropagation:Y,disableScrollPropagation:X,disableClickPropagation:J,preventDefault:$,stop:Q,getMousePosition:tt,getWheelDelta:it,fakeStop:et,skipped:nt,isExternalTarget:ot,addListener:V,removeListener:q}),bl=xt(['transform','WebkitTransform','OTransform','MozTransform','msTransform']),aQ=xt(['webkitTransition','transition','OTransition','MozTransition','msTransition']),bR='webkitTransition'===aQ||'OTransition'===aQ?aQ+'End':'transitionend';if('onselectstart' in document){aR=function(){V(window,'selectstart',$)},aN=function(){q(window,'selectstart',$)}}else {var aO=xt(['userSelect','WebkitUserSelect','OUserSelect','MozUserSelect','msUserSelect']);aR=function(){if(aO){var a=document.documentElement.style;bh=a[aO],a[aO]='none'}},aN=function(){aO&&(document.documentElement.style[aO]=bh,bh=void 0)}}var a$,bu,cl=(Object.freeze||Object)({TRANSFORM:bl,TRANSITION:aQ,TRANSITION_END:bR,get:rt,getStyle:at,create:ht,remove:ut,empty:lt,toFront:ct,toBack:_t,hasClass:dt,addClass:pt,removeClass:mt,setClass:ft,getClass:gt,setOpacity:vt,testProp:xt,setTransform:wt,setPosition:Lt,getPosition:Pt,disableTextSelection:aR,enableTextSelection:aN,disableImageDrag:bt,enableImageDrag:Tt,preventOutline:zt,restoreOutline:Mt}),b_=aS.extend({run:function(a,c,b,d){this.stop(),this._el=a,this._inProgress=!0,this._duration=b||0.25,this._easeOutPower=1/Math.max(d||0.5,0.2),this._startPos=Pt(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date(),this.fire('start'),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=f(this._animate,this),this._step()},_step:function(c){var b=+new Date()-this._startTime,a=1000*this._duration;b<a?this._runFrame(this._easeOut(b/a),c):(this._runFrame(1),this._complete())},_runFrame:function(c,b){var a=this._startPos.add(this._offset.multiplyBy(c));b&&a._round(),Lt(this._el,a),this.fire('step')},_complete:function(){g(this._animId),this._inProgress=!1,this.fire('end')},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),aa=aS.extend({options:{crs:br,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(b,a){a=l(this,a),this._initContainer(b),this._initLayout(),this._onResize=e(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),void 0!==a.zoom&&(this._zoom=this._limitZoom(a.zoom)),a.center&&void 0!==a.zoom&&this.setView(C(a.center),a.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=aQ&&ac&&!bX&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),V(this._proxy,bR,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(c,b,a){return b=void 0===b?this._zoom:this._limitZoom(b),c=this._limitCenter(C(c),b,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&!0!==a&&(void 0!==a.animate&&(a.zoom=i({animate:a.animate},a.zoom),a.pan=i({animate:a.animate,duration:a.duration},a.pan)),this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,b,a.zoom):this._tryAnimatedPan(c,a.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(c,b),this)},setZoom:function(a,b){return this._loaded?this.setView(this.getCenter(),a,{zoom:b}):(this._zoom=a,this)},zoomIn:function(a,b){return a=a||(ac?this.options.zoomDelta:1),this.setZoom(this._zoom+a,b)},zoomOut:function(a,b){return a=a||(ac?this.options.zoomDelta:1),this.setZoom(this._zoom-a,b)},setZoomAround:function(a,b,d){var e=this.getZoomScale(b),c=this.getSize().divideBy(2),g=(a instanceof x?a:this.latLngToContainerPoint(a)).subtract(c).multiplyBy(1-1/e),f=this.containerPointToLatLng(c.add(g));return this.setView(f,b,{zoom:d})},_getBoundsCenterZoom:function(c,a){a=a||{},c=c.getBounds?c.getBounds():z(c);var d=w(a.paddingTopLeft||a.padding||[0,0]),e=w(a.paddingBottomRight||a.padding||[0,0]),b=this.getBoundsZoom(c,!1,d.add(e));if((b='number'==typeof a.maxZoom?Math.min(a.maxZoom,b):b)===1/0){return {center:c.getCenter(),zoom:b}}var h=e.subtract(d).divideBy(2),g=this.project(c.getSouthWest(),b),f=this.project(c.getNorthEast(),b);return {center:this.unproject(g.add(f).divideBy(2).add(h),b),zoom:b}},fitBounds:function(a,c){if(!(a=z(a)).isValid()){throw new Error('Bounds are not valid.')}var b=this._getBoundsCenterZoom(a,c);return this.setView(b.center,b.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(b,a){return this.setView(b,this._zoom,{pan:a})},panBy:function(a,b){if(a=w(a).round(),b=b||{},!a.x&&!a.y){return this.fire('moveend')}if(!0!==b.animate&&!this.getSize().contains(a)){return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this}if(this._panAnim||(this._panAnim=new b_(),this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire('movestart'),!1!==b.animate){pt(this._mapPane,'leaflet-pan-anim');var c=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,c,b.duration||0.25,b.easeLinearity)}else {this._rawPanBy(a),this.fire('move').fire('moveend')}return this},flyTo:function(g,d,c){function n(f){var a=(q*q-b*b+(f?-1:1)*m*m*k*k)/(2*(f?q:b)*m*k),e=Math.sqrt(a*a+1)-a;return e<1.0E-9?-18:Math.log(e)}function o(a){return (Math.exp(a)-Math.exp(-a))/2}function s(a){return (Math.exp(a)+Math.exp(-a))/2}function r(a){return o(a)/s(a)}function a(a){return b*(s(e)/s(e+i*a))}function h(a){return b*(s(e)*r(e+i*a)-o(e))/m}function u(a){return 1-Math.pow(1-a,1.5)}function l(){var e=(Date.now()-y)/z,i=u(e)*v;e<=1?(this._flyToFrame=f(l,this),this._move(this.unproject(p.add(w.subtract(p).multiplyBy(h(i)/k)),j),this.getScaleZoom(b/a(i),j),{flyTo:!0})):this._move(g,d)._moveEnd(!0)}if(!1===(c=c||{}).animate||!ac){return this.setView(g,d,c)}this._stop();var p=this.project(this.getCenter()),w=this.project(g),x=this.getSize(),j=this._zoom;g=C(g),d=void 0===d?j:d;var b=Math.max(x.x,x.y),q=b*this.getZoomScale(j,d),k=w.distanceTo(p)||1,i=1.42,m=i*i,e=n(0),y=Date.now(),v=(n(1)-e)/i,z=c.duration?1000*c.duration:1000*v*0.8;return this._moveStart(!0,c.noMoveStart),l.call(this),this},flyToBounds:function(c,b){var a=this._getBoundsCenterZoom(c,b);return this.flyTo(a.center,a.zoom,b)},setMaxBounds:function(a){return (a=z(a)).isValid()?(this.options.maxBounds&&this.off('moveend',this._panInsideMaxBounds),this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on('moveend',this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off('moveend',this._panInsideMaxBounds))},setMinZoom:function(a){var b=this.options.minZoom;return this.options.minZoom=a,this._loaded&&b!==a&&(this.fire('zoomlevelschange'),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var b=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&b!==a&&(this.fire('zoomlevelschange'),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(d,c){this._enforcingBounds=!0;var a=this.getCenter(),b=this._limitCenter(a,this._zoom,z(d));return a.equals(b)||this.panTo(b,c),this._enforcingBounds=!1,this},invalidateSize:function(a){if(!this._loaded){return this}a=i({animate:!1,pan:!0},!0===a?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),g=c.divideBy(2).round(),f=d.divideBy(2).round(),b=g.subtract(f);return b.x||b.y?(a.animate&&a.pan?this.panBy(b):(a.pan&&this._rawPanBy(b),this.fire('move'),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(e(this.fire,this,'moveend'),200)):this.fire('moveend')),this.fire('resize',{oldSize:c,newSize:d})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire('viewreset'),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:10000,watch:!1},a),!('geolocation' in navigator)){return this._handleGeolocationError({code:0,message:'Geolocation not supported.'}),this}var b=e(this._handleGeolocationResponse,this),c=e(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,c,a):navigator.geolocation.getCurrentPosition(b,c,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(b){var a=b.code,c=b.message||(1===a?'permission denied':2===a?'position unavailable':'timeout');this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire('locationerror',{code:a,message:'Geolocation error: '+c+'.'})},_handleGeolocationResponse:function(a){var b=new M(a.coords.latitude,a.coords.longitude),e=b.toBounds(a.coords.accuracy),c=this._locateOptions;if(c.setView){var f=this.getBoundsZoom(e);this.setView(b,c.maxZoom?Math.min(f,c.maxZoom):f)}var g={latlng:b,bounds:e,timestamp:a.timestamp};for(var d in a.coords){'number'==typeof a.coords[d]&&(g[d]=a.coords[d])}this.fire('locationfound',g)},addHandler:function(c,b){if(!b){return this}var a=this[c]=new b(this);return this._handlers.push(a),this.options[c]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id){throw new Error('Map container is being reused by another instance')}try{delete this._container._leaflet_id,delete this._containerId}catch(cn){this._container._leaflet_id=void 0,this._containerId=void 0}void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire('unload');var a;for(a in this._layers){this._layers[a].remove()}for(a in this._panes){ut(this._panes[a])}return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var b=ht('div','leaflet-pane'+(a?' leaflet-'+a.replace('Pane','')+'-pane':''),c||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds();return new T(this.unproject(a.getBottomLeft()),this.unproject(a.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,i,e){d=z(d),e=w(e||[0,0]);var a=this.getZoom()||0,m=this.getMinZoom(),o=this.getMaxZoom(),n=d.getNorthWest(),k=d.getSouthEast(),h=this.getSize().subtract(e),j=b(this.project(k,a),this.project(n,a)).getSize(),c=ac?this.options.zoomSnap:1,g=h.x/j.x,f=h.y/j.y,l=i?Math.max(g,f):Math.min(g,f);return a=this.getScaleZoom(l,a),c&&(a=Math.round(a/(c/100))*(c/100),a=i?Math.ceil(a/c)*c:Math.floor(a/c)*c),Math.max(m,Math.min(o,a))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new x(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(c,b){var a=this._getTopLeftPoint(c,b);return new P(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(void 0===a?this.getZoom():a)},getPane:function(a){return 'string'==typeof a?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,a){var b=this.options.crs;return a=void 0===a?this._zoom:a,b.scale(c)/b.scale(a)},getScaleZoom:function(d,a){var b=this.options.crs;a=void 0===a?this._zoom:a;var c=b.zoom(d*b.scale(a));return isNaN(c)?1/0:c},project:function(b,a){return a=void 0===a?this._zoom:a,this.options.crs.latLngToPoint(C(b),a)},unproject:function(b,a){return a=void 0===a?this._zoom:a,this.options.crs.pointToLatLng(w(b),a)},layerPointToLatLng:function(b){var a=w(b).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(a){return this.project(C(a))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(C(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(z(a))},distance:function(b,a){return this.options.crs.distance(C(b),C(a))},containerPointToLayerPoint:function(a){return w(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return w(a).add(this._getMapPanePos())},containerPointToLatLng:function(b){var a=this.containerPointToLayerPoint(w(b));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(C(a)))},mouseEventToContainerPoint:function(a){return tt(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(b){var a=this._container=rt(b);if(!a){throw new Error('Map container not found.')}if(a._leaflet_id){throw new Error('Map container is already initialized.')}V(a,'scroll',this._onScroll,this),this._containerId=n(a)},_initLayout:function(){var b=this._container;this._fadeAnimated=this.options.fadeAnimation&&ac,pt(b,'leaflet-container'+(ah?' leaflet-touch':'')+(ar?' leaflet-retina':'')+(ax?' leaflet-oldie':'')+(bT?' leaflet-safari':'')+(this._fadeAnimated?' leaflet-fade-anim':''));var a=at(b,'position');'absolute'!==a&&'relative'!==a&&'fixed'!==a&&(b.style.position='relative'),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane('mapPane',this._container),Lt(this._mapPane,new x(0,0)),this.createPane('tilePane'),this.createPane('shadowPane'),this.createPane('overlayPane'),this.createPane('markerPane'),this.createPane('tooltipPane'),this.createPane('popupPane'),this.options.markerZoomAnimation||(pt(a.markerPane,'leaflet-zoom-hide'),pt(a.shadowPane,'leaflet-zoom-hide'))},_resetView:function(d,a){Lt(this._mapPane,new x(0,0));var c=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire('viewprereset');var b=this._zoom!==a;this._moveStart(b,!1)._move(d,a)._moveEnd(b),this.fire('viewreset'),c&&this.fire('load')},_moveStart:function(b,a){return b&&this.fire('zoomstart'),a||this.fire('movestart'),this},_move:function(c,b,a){void 0===b&&(b=this._zoom);var d=this._zoom!==b;return this._zoom=b,this._lastCenter=c,this._pixelOrigin=this._getNewPixelOrigin(c),(d||a&&a.pinch)&&this.fire('zoom',a),this.fire('move',a)},_moveEnd:function(a){return a&&this.fire('zoomend'),this.fire('moveend')},_stop:function(){return g(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Lt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded){throw new Error('Set map center and zoom first.')}},_initEvents:function(b){this._targets={},this._targets[n(this._container)]=this;var a=b?q:V;a(this._container,'click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress',this._handleDOMEvent,this),this.options.trackResize&&a(window,'resize',this._onResize,this),ac&&this.options.transform3DLimit&&(b?this.off:this.on).call(this,'moveend',this._onMoveEnd)},_onResize:function(){g(this._resizeRequest),this._resizeRequest=f(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,c){for(var b,e=[],f='mouseout'===c||'mouseover'===c,a=d.target||d.srcElement,g=!1;a;){if((b=this._targets[n(a)])&&('click'===c||'preclick'===c)&&!d._simulated&&this._draggableMoved(b)){g=!0;break}if(b&&b.listens(c,!0)){if(f&&!ot(a,d)){break}if(e.push(b),f){break}}if(a===this._container){break}a=a.parentNode}return e.length||g||f||!ot(a,d)||(e=[this]),e},_handleDOMEvent:function(a){if(this._loaded&&!nt(a)){var b=a.type;'mousedown'!==b&&'keypress'!==b||zt(a.target||a.srcElement),this._fireDOMEvent(a,b)}},_mouseEvents:['click','dblclick','mouseover','mouseout','contextmenu'],_fireDOMEvent:function(a,f,b){if('click'===a.type){var h=i({},a);h.type='preclick',this._fireDOMEvent(h,h.type,b)}if(!a._stopped&&(b=(b||[]).concat(this._findEventTargets(a,f))).length){var e=b[0];'contextmenu'===f&&e.listens(f,!0)&&$(a);var c={originalEvent:a};if('keypress'!==a.type){var j=e.getLatLng&&(!e._radius||e._radius<=10);c.containerPoint=j?this.latLngToContainerPoint(e.getLatLng()):this.mouseEventToContainerPoint(a),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=j?e.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(var g=0;g<b.length;g++){if(b[g].fire(f,c,!0),c.originalEvent._stopped||!1===b[g].options.bubblingMouseEvents&&-1!==d(this._mouseEvents,f)){return}}}},_draggableMoved:function(a){return (a=a.dragging&&a.dragging.enabled()?a:this).dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,b=this._handlers.length;a<b;a++){this._handlers[a].disable()}},whenReady:function(b,a){return this._loaded?b.call(a||this,{target:this}):this.on('load',b,a),this},_getMapPanePos:function(){return Pt(this._mapPane)||new x(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(b,a){return (b&&void 0!==a?this._getNewPixelOrigin(b,a):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,b){var a=this.getSize()._divideBy(2);return this.project(c,b)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,a,b){var c=this._getNewPixelOrigin(b,a);return this.project(d,a)._subtract(c)},_latLngBoundsToNewLayerBounds:function(d,a,e){var c=this._getNewPixelOrigin(e,a);return b([this.project(d.getSouthWest(),a)._subtract(c),this.project(d.getNorthWest(),a)._subtract(c),this.project(d.getSouthEast(),a)._subtract(c),this.project(d.getNorthEast(),a)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,a,d){if(!d){return c}var b=this.project(c,a),e=this.getSize().divideBy(2),g=new P(b.subtract(e),b.add(e)),f=this._getBoundsOffset(g,d,a);return f.round().equals([0,0])?c:this.unproject(b.add(f),a)},_limitOffset:function(a,c){if(!c){return a}var b=this.getPixelBounds(),d=new P(b.min.add(a),b.max.add(a));return a.add(this._getBoundsOffset(d,c))},_getBoundsOffset:function(g,c,a){var d=b(this.project(c.getNorthEast(),a),this.project(c.getSouthWest(),a)),e=d.min.subtract(g.min),f=d.max.subtract(g.max);return new x(this._rebound(e.x,-f.x),this._rebound(e.y,-f.y))},_rebound:function(b,a){return b+a>0?Math.round(b-a)/2:Math.max(0,Math.ceil(b))-Math.max(0,Math.floor(a))},_limitZoom:function(b){var d=this.getMinZoom(),c=this.getMaxZoom(),a=ac?this.options.zoomSnap:1;return a&&(b=Math.round(b/a)*a),Math.max(d,Math.min(c,b))},_onPanTransitionStep:function(){this.fire('move')},_onPanTransitionEnd:function(){mt(this._mapPane,'leaflet-pan-anim'),this.fire('moveend')},_tryAnimatedPan:function(c,a){var b=this._getCenterOffset(c)._trunc();return !(!0!==(a&&a.animate)&&!this.getSize().contains(b))&&(this.panBy(b,a),!0)},_createAnimProxy:function(){var a=this._proxy=ht('div','leaflet-proxy leaflet-zoom-animated');this._panes.mapPane.appendChild(a),this.on('zoomanim',function(a){var b=bl,c=this._proxy.style[b];wt(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),c===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on('load moveend',function(){var b=this.getCenter(),a=this.getZoom();wt(this._proxy,this.project(b,a),this.getZoomScale(a,1))},this),this._on('unload',this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ut(this._proxy),delete this._proxy},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf('transform')>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return !this._container.getElementsByClassName('leaflet-zoom-animated').length},_tryAnimatedZoom:function(c,b,a){if(this._animatingZoom){return !0}if(a=a||{},!this._zoomAnimated||!1===a.animate||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold){return !1}var d=this.getZoomScale(b),e=this._getCenterOffset(c)._divideBy(1-1/d);return !(!0!==a.animate&&!this.getSize().contains(e))&&(f(function(){this._moveStart(!0,!1)._animateZoom(c,b,!0)},this),!0)},_animateZoom:function(b,a,c,d){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=b,this._animateToZoom=a,pt(this._mapPane,'leaflet-zoom-anim')),this.fire('zoomanim',{center:b,zoom:a,noUpdate:d}),setTimeout(e(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&mt(this._mapPane,'leaflet-zoom-anim'),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),f(function(){this._moveEnd(!0)},this))}}),ae=v.extend({options:{position:'topright'},initialize:function(a){l(this,a)},getPosition:function(){return this.options.position},setPosition:function(b){var a=this._map;return a&&a.removeControl(this),this.options.position=b,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(c){this.remove(),this._map=c;var a=this._container=this.onAdd(c),d=this.getPosition(),b=c._controlCorners[d];return pt(a,'leaflet-control'),-1!==d.indexOf('bottom')?b.insertBefore(a,b.firstChild):b.appendChild(a),this},remove:function(){return this._map?(ut(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),aL=function(a){return new ae(a)};aa.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){function t(e,d){var f=a+e+' '+a+d;b[e+d]=ht('div',f,c)}var b=this._controlCorners={},a='leaflet-',c=this._controlContainer=ht('div',a+'control-container',this._container);t('top','left'),t('top','right'),t('bottom','left'),t('bottom','right')},_clearControlPos:function(){for(var a in this._controlCorners){ut(this._controlCorners[a])}ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var bK=ae.extend({options:{collapsed:!0,position:'topright',autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,c,a,b){return a<b?-1:b<a?1:0}},initialize:function(c,b,d){l(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var a in c){this._addLayer(c[a],a)}for(a in b){this._addLayer(b[a],a,!0)}},onAdd:function(b){this._initLayout(),this._update(),this._map=b,b.on('zoomend',this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++){this._layers[a].layer.on('add remove',this._onLayerChange,this)}return this._container},addTo:function(a){return ae.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off('zoomend',this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++){this._layers[a].layer.off('add remove',this._onLayerChange,this)}},addBaseLayer:function(b,a){return this._addLayer(b,a),this._map?this._update():this},addOverlay:function(b,a){return this._addLayer(b,a,!0),this._map?this._update():this},removeLayer:function(b){b.off('add remove',this._onLayerChange,this);var a=this._getLayer(n(b));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){pt(this._container,'leaflet-control-layers-expanded'),this._form.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._form.clientHeight?(pt(this._form,'leaflet-control-layers-scrollbar'),this._form.style.height=a+'px'):mt(this._form,'leaflet-control-layers-scrollbar'),this._checkDisabledLayers(),this},collapse:function(){return mt(this._container,'leaflet-control-layers-expanded'),this},_initLayout:function(){var b='leaflet-control-layers',a=this._container=ht('div',b),e=this.options.collapsed;a.setAttribute('aria-haspopup',!0),J(a),X(a);var d=this._form=ht('form',b+'-list');e&&(this._map.on('click',this.collapse,this),ay||V(a,{mouseenter:this.expand,mouseleave:this.collapse},this));var c=this._layersLink=ht('a',b+'-toggle',a);c.href='#',c.title='Layers',ah?(V(c,'click',Q),V(c,'click',this.expand,this)):V(c,'focus',this.expand,this),e||this.expand(),this._baseLayersList=ht('div',b+'-base',d),this._separator=ht('div',b+'-separator',d),this._overlaysList=ht('div',b+'-overlays',d),a.appendChild(d)},_getLayer:function(b){for(var a=0;a<this._layers.length;a++){if(this._layers[a]&&n(this._layers[a].layer)===b){return this._layers[a]}}},_addLayer:function(a,b,c){this._map&&a.on('add remove',this._onLayerChange,this),this._layers.push({layer:a,name:b,overlay:c}),this.options.sortLayers&&this._layers.sort(e(function(e,d){return this.options.sortFunction(e.layer,d.layer,e.name,d.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container){return this}lt(this._baseLayersList),lt(this._overlaysList),this._layerControlInputs=[];var a,d,c,b,e=0;for(c=0;c<this._layers.length;c++){b=this._layers[c],this._addItem(b),d=d||b.overlay,a=a||!b.overlay,e+=b.overlay?0:1}return this.options.hideSingleBase&&(a=a&&e>1,this._baseLayersList.style.display=a?'':'none'),this._separator.style.display=d&&a?'':'none',this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(n(a.target)),b=c.overlay?'add'===a.type?'overlayadd':'overlayremove':'add'===a.type?'baselayerchange':null;b&&this._map.fire(b,c)},_createRadioElement:function(d,c){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(c?' checked="checked"':'')+'/>',a=document.createElement('div');return a.innerHTML=b,a.firstChild},_addItem:function(b){var a,c=document.createElement('label'),e=this._map.hasLayer(b.layer);b.overlay?((a=document.createElement('input')).type='checkbox',a.className='leaflet-control-layers-selector',a.defaultChecked=e):a=this._createRadioElement('leaflet-base-layers',e),this._layerControlInputs.push(a),a.layerId=n(b.layer),V(a,'click',this._onInputClick,this);var f=document.createElement('span');f.innerHTML=' '+b.name;var d=document.createElement('div');return c.appendChild(d),d.appendChild(a),d.appendChild(f),(b.overlay?this._overlaysList:this._baseLayersList).appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){var d,e,f=this._layerControlInputs,b=[],c=[];this._handlingClick=!0;for(var a=f.length-1;a>=0;a--){d=f[a],e=this._getLayer(d.layerId).layer,d.checked?b.push(e):d.checked||c.push(e)}for(a=0;a<c.length;a++){this._map.hasLayer(c[a])&&this._map.removeLayer(c[a])}for(a=0;a<b.length;a++){this._map.hasLayer(b[a])||this._map.addLayer(b[a])}this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var c,a,d=this._layerControlInputs,e=this._map.getZoom(),b=d.length-1;b>=0;b--){c=d[b],a=this._getLayer(c.layerId).layer,c.disabled=void 0!==a.options.minZoom&&e<a.options.minZoom||void 0!==a.options.maxZoom&&e>a.options.maxZoom}},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),bv=ae.extend({options:{position:'topleft',zoomInText:'+',zoomInTitle:'Zoom in',zoomOutText:'&#x2212;',zoomOutTitle:'Zoom out'},onAdd:function(d){var c='leaflet-control-zoom',b=ht('div',c+' leaflet-bar'),a=this.options;return this._zoomInButton=this._createButton(a.zoomInText,a.zoomInTitle,c+'-in',b,this._zoomIn),this._zoomOutButton=this._createButton(a.zoomOutText,a.zoomOutTitle,c+'-out',b,this._zoomOut),this._updateDisabled(),d.on('zoomend zoomlevelschange',this._updateDisabled,this),b},onRemove:function(a){a.off('zoomend zoomlevelschange',this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(f,b,c,d,e){var a=ht('a',c,d);return a.innerHTML=f,a.href='#',a.title=b,a.setAttribute('role','button'),a.setAttribute('aria-label',b),J(a),V(a,'click',Q),V(a,'click',e,this),V(a,'click',this._refocusOnMap,this),a},_updateDisabled:function(){var b=this._map,a='leaflet-disabled';mt(this._zoomInButton,a),mt(this._zoomOutButton,a),(this._disabled||b._zoom===b.getMinZoom())&&pt(this._zoomOutButton,a),(this._disabled||b._zoom===b.getMaxZoom())&&pt(this._zoomInButton,a)}});aa.mergeOptions({zoomControl:!0}),aa.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new bv(),this.addControl(this.zoomControl))});var bG=ae.extend({options:{position:'bottomleft',maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var b=ht('div','leaflet-control-scale'),a=this.options;return this._addScales(a,'leaflet-control-scale-line',b),c.on(a.updateWhenIdle?'moveend':'move',this._update,this),c.whenReady(this._update,this),b},onRemove:function(a){a.off(this.options.updateWhenIdle?'moveend':'move',this._update,this)},_addScales:function(c,b,a){c.metric&&(this._mScale=ht('div',b,a)),c.imperial&&(this._iScale=ht('div',b,a))},_update:function(){var a=this._map,b=a.getSize().y/2,c=a.distance(a.containerPointToLatLng([0,b]),a.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(c)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(b){var a=this._getRoundNum(b),c=a<1000?a+' m':a/1000+' km';this._updateScale(this._mScale,c,a/b)},_updateImperial:function(e){var c,b,d,a=3.2808399*e;a>5280?(c=a/5280,b=this._getRoundNum(c),this._updateScale(this._iScale,b+' mi',b/c)):(d=this._getRoundNum(a),this._updateScale(this._iScale,d+' ft',d/a))},_updateScale:function(a,c,b){a.style.width=Math.round(this.options.maxWidth*b)+'px',a.innerHTML=c},_getRoundNum:function(c){var b=Math.pow(10,(Math.floor(c)+'').length-1),a=c/b;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,b*a}}),a1=ae.extend({options:{position:'bottomright',prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){l(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=ht('div','leaflet-control-attribution'),J(this._container);for(var b in a._layers){a._layers[b].getAttribution&&this.addAttribution(a._layers[b].getAttribution())}return this._update(),this._container},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var b=[];for(var c in this._attributions){this._attributions[c]&&b.push(c)}var a=[];this.options.prefix&&a.push(this.options.prefix),b.length&&a.push(b.join(', ')),this._container.innerHTML=a.join(' | ')}}});aa.mergeOptions({attributionControl:!0}),aa.addInitHook(function(){this.options.attributionControl&&(new a1()).addTo(this)});ae.Layers=bK,ae.Zoom=bv,ae.Scale=bG,ae.Attribution=a1,aL.layers=function(c,b,a){return new bK(c,b,a)},aL.zoom=function(a){return new bv(a)},aL.scale=function(a){return new bG(a)},aL.attribution=function(a){return new a1(a)};var ai=v.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return !!this._enabled}});ai.addTo=function(b,a){return b.addHandler(a,this),this};var bJ,b3={Events:ab},bS=ah?'touchstart mousedown':'mousedown',bx={mousedown:'mouseup',touchstart:'touchend',pointerdown:'touchend',MSPointerDown:'touchend'},a4={mousedown:'mousemove',touchstart:'touchmove',pointerdown:'touchmove',MSPointerDown:'touchmove'},au=aS.extend({options:{clickTolerance:3},initialize:function(a,c,b,d){l(this,d),this._element=a,this._dragStartTarget=c||a,this._preventOutline=b},enable:function(){this._enabled||(V(this._dragStartTarget,bS,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(au._dragging===this&&this.finishDrag(),q(this._dragStartTarget,bS,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(!a._simulated&&this._enabled&&(this._moved=!1,!dt(this._element,'leaflet-zoom-anim')&&!(au._dragging||a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||(au._dragging=this,this._preventOutline&&zt(this._element),bt(),aR(),this._moving)))){this.fire('down');var b=a.touches?a.touches[0]:a;this._startPoint=new x(b.clientX,b.clientY),V(document,a4[a.type],this._onMove,this),V(document,bx[a.type],this._onUp,this)}},_onMove:function(a){if(!a._simulated&&this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0}else {var c=a.touches&&1===a.touches.length?a.touches[0]:a,b=(new x(c.clientX,c.clientY)).subtract(this._startPoint);(b.x||b.y)&&(Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||($(a),this._moved||(this.fire('dragstart'),this._moved=!0,this._startPos=Pt(this._element).subtract(b),pt(document.body,'leaflet-dragging'),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pt(this._lastTarget,'leaflet-drag-target')),this._newPos=this._startPos.add(b),this._moving=!0,g(this._animRequest),this._lastEvent=a,this._animRequest=f(this._updatePosition,this,!0)))}}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire('predrag',a),Lt(this._element,this._newPos),this.fire('drag',a)},_onUp:function(a){!a._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){mt(document.body,'leaflet-dragging'),this._lastTarget&&(mt(this._lastTarget,'leaflet-drag-target'),this._lastTarget=null);for(var a in a4){q(document,a4[a],this._onMove,this),q(document,bx[a],this._onUp,this)}Tt(),aN(),this._moved&&this._moving&&(g(this._animRequest),this.fire('dragend',{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,au._dragging=!1}}),b8=(Object.freeze||Object)({simplify:Ct,pointToSegmentDistance:Zt,closestPointOnSegment:function(c,b,a){return Rt(c,b,a)},clipSegment:At,_getEdgeIntersection:It,_getBitCode:Bt,_sqClosestPointOnSegment:Rt,isFlat:Dt,_flat:Nt}),b9=(Object.freeze||Object)({clipPolygon:jt}),a2={project:function(a){return new x(a.lng,a.lat)},unproject:function(a){return new M(a.y,a.x)},bounds:new P([-180,-90],[180,90])},a5={R:6378137,R_MINOR:6356752.314245179,bounds:new P([-2.003750834279E7,-1.549657073972E7],[2.003750834279E7,1.876465623138E7]),project:function(g){var c=Math.PI/180,b=this.R,a=g.lat*c,d=this.R_MINOR/b,f=Math.sqrt(1-d*d),e=f*Math.sin(a),h=Math.tan(Math.PI/4-a/2)/Math.pow((1-e)/(1+e),f/2);return a=-b*Math.log(Math.max(h,1.0E-10)),new x(g.lng*c*b,a)},unproject:function(i){for(var a,d=180/Math.PI,c=this.R,f=this.R_MINOR/c,h=Math.sqrt(1-f*f),g=Math.exp(-i.y/c),b=Math.PI/2-2*Math.atan(g),e=0,j=0.1;e<15&&Math.abs(j)>1.0E-7;e++){a=h*Math.sin(b),a=Math.pow((1-a)/(1+a),h/2),b+=j=Math.PI/2-2*Math.atan(g*a)-b}return new M(b*d,i.x*d/c)}},ch=(Object.freeze||Object)({LonLat:a2,Mercator:a5,SphericalMercator:be}),ca=i({},as,{code:'EPSG:3395',projection:a5,transformation:function(){var a=0.5/(Math.PI*a5.R);return S(a,0.5,-a,0.5)}()}),bD=i({},as,{code:'EPSG:4326',projection:a2,transformation:S(1/180,1,-1/180,0.5)}),b4=i({},al,{projection:a2,transformation:S(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(d,b){var a=b.lng-d.lng,c=b.lat-d.lat;return Math.sqrt(a*a+c*c)},infinite:!0});al.Earth=as,al.EPSG3395=ca,al.EPSG3857=br,al.EPSG900913=cm,al.EPSG4326=bD,al.Simple=b4;var ad=aS.extend({options:{pane:'overlayPane',attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[n(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[n(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var a=c.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var b=this.getEvents();a.on(b,this),this.once('remove',function(){a.off(b,this)},this)}this.onAdd(a),this.getAttribution&&a.attributionControl&&a.attributionControl.addAttribution(this.getAttribution()),this.fire('add'),a.fire('layeradd',{layer:this})}}});aa.include({addLayer:function(a){if(!a._layerAdd){throw new Error('The provided object is not a Layer.')}var b=n(a);return this._layers[b]?this:(this._layers[b]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var b=n(a);return this._layers[b]?(this._loaded&&a.onRemove(this),a.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(a.getAttribution()),delete this._layers[b],this._loaded&&(this.fire('layerremove',{layer:a}),a.fire('remove')),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return !!a&&n(a) in this._layers},eachLayer:function(c,b){for(var a in this._layers){c.call(b,this._layers[a])}return this},_addLayers:function(a){for(var b=0,c=(a=a?aj(a)?a:[a]:[]).length;b<c;b++){this.addLayer(a[b])}},_addZoomLimit:function(a){!isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[n(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(b){var a=n(b);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var b=1/0,a=-1/0,d=this._getZoomSpan();for(var e in this._zoomBoundLayers){var c=this._zoomBoundLayers[e].options;b=void 0===c.minZoom?b:Math.min(b,c.minZoom),a=void 0===c.maxZoom?a:Math.max(a,c.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=b===1/0?void 0:b,d!==this._getZoomSpan()&&this.fire('zoomlevelschange'),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var az=ad.extend({initialize:function(b,d){l(this,d),this._layers={};var a,c;if(b){for(a=0,c=b.length;a<c;a++){this.addLayer(b[a])}}},addLayer:function(a){var b=this.getLayerId(a);return this._layers[b]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(b){var a=b in this._layers?b:this.getLayerId(b);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(a){return !!a&&(a in this._layers||this.getLayerId(a) in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var b,a,d=Array.prototype.slice.call(arguments,1);for(b in this._layers){(a=this._layers[b])[c]&&a[c].apply(a,d)}return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(c,b){for(var a in this._layers){c.call(b,this._layers[a])}return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke('setZIndex',a)},getLayerId:function(a){return n(a)}}),av=az.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),az.prototype.addLayer.call(this,a),this.fire('layeradd',{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),az.prototype.removeLayer.call(this,a),this.fire('layerremove',{layer:a})):this},setStyle:function(a){return this.invoke('setStyle',a)},bringToFront:function(){return this.invoke('bringToFront')},bringToBack:function(){return this.invoke('bringToBack')},getBounds:function(){var b=new T();for(var c in this._layers){var a=this._layers[c];b.extend(a.getBounds?a.getBounds():a.getLatLng())}return b}}),aw=v.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(a){l(this,a)},createIcon:function(a){return this._createIcon('icon',a)},createShadow:function(a){return this._createIcon('shadow',a)},_createIcon:function(b,a){var c=this._getIconUrl(b);if(!c){if('icon'===b){throw new Error('iconUrl not set in Icon options (see the docs).')}return null}var d=this._createImg(c,a&&'IMG'===a.tagName?a:null);return this._setIconStyles(d,b),d},_setIconStyles:function(c,e){var d=this.options,a=d[e+'Size'];'number'==typeof a&&(a=[a,a]);var b=w(a),f=w('shadow'===e&&d.shadowAnchor||d.iconAnchor||b&&b.divideBy(2,!0));c.className='leaflet-marker-'+e+' '+(d.className||''),f&&(c.style.marginLeft=-f.x+'px',c.style.marginTop=-f.y+'px'),b&&(c.style.width=b.x+'px',c.style.height=b.y+'px')},_createImg:function(b,a){return a=a||document.createElement('img'),a.src=b,a},_getIconUrl:function(a){return ar&&this.options[a+'RetinaUrl']||this.options[a+'Url']}}),aH=aw.extend({options:{iconUrl:'marker-icon.png',iconRetinaUrl:'marker-icon-2x.png',shadowUrl:'marker-shadow.png',iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return aH.imagePath||(aH.imagePath=this._detectIconPath()),(this.options.imagePath||aH.imagePath)+aw.prototype._getIconUrl.call(this,a)},_detectIconPath:function(){var b=ht('div','leaflet-default-icon-path',document.body),a=at(b,'background-image')||at(b,'backgroundImage');return document.body.removeChild(b),a=null===a||0!==a.indexOf('url')?'':a.replace(/^url\(["']?/,'').replace(/marker-icon\.png["']?\)$/,'')}}),bM=ai.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new au(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pt(a,'leaflet-marker-draggable')},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&mt(this._marker._icon,'leaflet-marker-draggable')},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(k){var g=this._marker,e=g._map,l=this._marker.options.autoPanSpeed,j=this._marker.options.autoPanPadding,d=L.DomUtil.getPosition(g._icon),c=e.getPixelBounds(),i=e.getPixelOrigin(),a=b(c.min._subtract(i).add(j),c.max._subtract(i).subtract(j));if(!a.contains(d)){var h=w((Math.max(a.max.x,d.x)-a.max.x)/(c.max.x-a.max.x)-(Math.min(a.min.x,d.x)-a.min.x)/(c.min.x-a.min.x),(Math.max(a.max.y,d.y)-a.max.y)/(c.max.y-a.max.y)-(Math.min(a.min.y,d.y)-a.min.y)/(c.min.y-a.min.y)).multiplyBy(l);e.panBy(h,{animate:!1}),this._draggable._newPos._add(h),this._draggable._startPos._add(h),L.DomUtil.setPosition(g._icon,this._draggable._newPos),this._onDrag(k),this._panRequest=f(this._adjustPan.bind(this,k))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire('movestart').fire('dragstart')},_onPreDrag:function(a){this._marker.options.autoPan&&(g(this._panRequest),this._panRequest=f(this._adjustPan.bind(this,a)))},_onDrag:function(b){var a=this._marker,c=a._shadow,d=Pt(a._icon),e=a._map.layerPointToLatLng(d);c&&Lt(c,d),a._latlng=e,b.latlng=e,b.oldLatLng=this._oldLatLng,a.fire('move',b).fire('drag',b)},_onDragEnd:function(a){g(this._panRequest),delete this._oldLatLng,this._marker.fire('moveend').fire('dragend',a)}}),aK=ad.extend({options:{icon:new aH(),interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:'',alt:'',zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:'markerPane',bubblingMouseEvents:!1},initialize:function(b,a){l(this,a),this._latlng=C(b)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on('zoomanim',this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off('zoomanim',this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return {zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(b){var a=this._latlng;return this._latlng=C(b),this.update(),this.fire('move',{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,d='leaflet-zoom-'+(this._zoomAnimated?'animated':'hide'),b=a.icon.createIcon(this._icon),e=!1;b!==this._icon&&(this._icon&&this._removeIcon(),e=!0,a.title&&(b.title=a.title),'IMG'===b.tagName&&(b.alt=a.alt||'')),pt(b,d),a.keyboard&&(b.tabIndex='0'),this._icon=b,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var c=a.icon.createShadow(this._shadow),f=!1;c!==this._shadow&&(this._removeShadow(),f=!0),c&&(pt(c,d),c.alt=''),this._shadow=c,a.opacity<1&&this._updateOpacity(),e&&this.getPane().appendChild(this._icon),this._initInteraction(),c&&f&&this.getPane('shadowPane').appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ut(this._shadow),this._shadow=null},_setPos:function(a){Lt(this._icon,a),this._shadow&&Lt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(pt(this._icon,'leaflet-interactive'),this.addInteractiveTarget(this._icon),bM)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bM(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;vt(this._icon,a),this._shadow&&vt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),aq=ad.extend({options:{stroke:!0,color:'#3388ff',weight:3,opacity:1,lineCap:'round',lineJoin:'round',dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:0.2,fillRule:'evenodd',interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return l(this,a),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return (this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),aU=aq.extend({options:{fill:!0,radius:10},initialize:function(b,a){l(this,a),this._latlng=C(b),this._radius=this.options.radius},setLatLng:function(a){return this._latlng=C(a),this.redraw(),this.fire('move',{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var b=a&&a.radius||this._radius;return aq.prototype.setStyle.call(this,a),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var c=this._radius,d=this._radiusY||c,a=this._clickTolerance(),b=[c+a,d+a];this._pxBounds=new P(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),a7=aU.extend({initialize:function(c,a,b){if('number'==typeof a&&(a=i({},b,{radius:a})),l(this,a),this._latlng=C(c),isNaN(this.options.radius)){throw new Error('Circle radius cannot be NaN')}this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new T(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:aq.prototype.setStyle,_project:function(){var h=this._latlng.lng,c=this._latlng.lat,a=this._map,g=a.options.crs;if(g.distance===as.distance){var b=Math.PI/180,f=this._mRadius/as.R/b,j=a.project([c+f,h]),k=a.project([c-f,h]),e=j.add(k).divideBy(2),i=a.unproject(e).lat,d=Math.acos((Math.cos(f*b)-Math.sin(c*b)*Math.sin(i*b))/(Math.cos(c*b)*Math.cos(i*b)))/b;(isNaN(d)||0===d)&&(d=f/Math.cos(Math.PI/180*c)),this._point=e.subtract(a.getPixelOrigin()),this._radius=isNaN(d)?0:e.x-a.project([i,h-d]).x,this._radiusY=e.y-j.y}else {var l=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(l).x}this._updateBounds()}}),ao=aq.extend({options:{smoothFactor:1,noClip:!1},initialize:function(b,a){l(this,a),this._setLatLngs(b)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return !this._latlngs.length},closestLayerPoint:function(j){for(var h,g,d=1/0,a=null,i=Rt,e=0,k=this._parts.length;e<k;e++){for(var c=this._parts[e],b=1,l=c.length;b<l;b++){var f=i(j,h=c[b-1],g=c[b],!0);f<d&&(d=f,a=i(j,h,g))}}return a&&(a.distance=Math.sqrt(d)),a},getCenter:function(){if(!this._map){throw new Error('Must add layer to map before using getCenter()')}var a,d,f,h,e,c,i,b=this._rings[0],g=b.length;if(!g){return null}for(a=0,d=0;a<g-1;a++){d+=b[a].distanceTo(b[a+1])/2}if(0===d){return this._map.layerPointToLatLng(b[0])}for(a=0,h=0;a<g-1;a++){if(e=b[a],c=b[a+1],f=e.distanceTo(c),(h+=f)>d){return i=(h-d)/f,this._map.layerPointToLatLng([c.x-i*(c.x-e.x),c.y-i*(c.y-e.y)])}}},getBounds:function(){return this._bounds},addLatLng:function(a,b){return b=b||this._defaultShape(),a=C(a),b.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new T(),this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Dt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var b=[],d=Dt(c),a=0,e=c.length;a<e;a++){d?(b[a]=C(c[a]),this._bounds.extend(b[a])):b[a]=this._convertLatLngs(c[a])}return b},_project:function(){var a=new P();this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a);var c=this._clickTolerance(),b=new x(c,c);this._bounds.isValid()&&a.isValid()&&(a.min._subtract(b),a.max._add(b),this._pxBounds=a)},_projectLatlngs:function(c,e,d){var a,b,g=c[0] instanceof M,f=c.length;if(g){for(b=[],a=0;a<f;a++){b[a]=this._map.latLngToLayerPoint(c[a]),d.extend(b[a])}e.push(b)}else {for(a=0;a<f;a++){this._projectLatlngs(c[a],e,d)}}},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(i)){if(this.options.noClip){this._parts=this._rings}else {var e,a,b,h,g,f,c,d=this._parts;for(e=0,b=0,h=this._rings.length;e<h;e++){for(a=0,g=(c=this._rings[e]).length;a<g-1;a++){(f=At(c[a],c[a+1],i,a,!0))&&(d[b]=d[b]||[],d[b].push(f[0]),f[1]===c[a+1]&&a!==g-2||(d[b].push(f[1]),b++))}}}}},_simplifyPoints:function(){for(var b=this._parts,c=this.options.smoothFactor,a=0,d=b.length;a<d;a++){b[a]=Ct(b[a],c)}},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(g,i){var b,a,d,f,e,c,h=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(g)){return !1}for(b=0,f=this._parts.length;b<f;b++){for(a=0,d=(e=(c=this._parts[b]).length)-1;a<e;d=a++){if((i||0!==a)&&Zt(g,c[d],c[a])<=h){return !0}}}return !1}});ao._flat=Nt;var aA=ao.extend({options:{fill:!0},isEmpty:function(){return !this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map){throw new Error('Must add layer to map before using getCenter()')}var e,h,a,b,d,c,j,g,k,f=this._rings[0],i=f.length;if(!i){return null}for(c=j=g=0,e=0,h=i-1;e<i;h=e++){a=f[e],b=f[h],d=a.y*b.x-b.y*a.x,j+=(a.x+b.x)*d,g+=(a.y+b.y)*d,c+=3*d}return k=0===c?f[0]:[j/c,g/c],this._map.layerPointToLatLng(k)},_convertLatLngs:function(c){var a=ao.prototype._convertLatLngs.call(this,c),b=a.length;return b>=2&&a[0] instanceof M&&a[0].equals(a[b-1])&&a.pop(),a},_setLatLngs:function(a){ao.prototype._setLatLngs.call(this,a),Dt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,d=this.options.weight,c=new x(d,d);if(a=new P(a.min.subtract(c),a.max.add(c)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(a)){if(this.options.noClip){this._parts=this._rings}else {for(var e,b=0,f=this._rings.length;b<f;b++){(e=jt(this._rings[b],a,!0)).length&&this._parts.push(e)}}}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(b){var f,a,c,d,e,g,i,j,h=!1;if(!this._pxBounds.contains(b)){return !1}for(d=0,i=this._parts.length;d<i;d++){for(e=0,g=(j=(f=this._parts[d]).length)-1;e<j;g=e++){a=f[e],c=f[g],a.y>b.y!=c.y>b.y&&b.x<(c.x-a.x)*(b.y-a.y)/(c.y-a.y)+a.x&&(h=!h)}}return h||ao.prototype._containsPoint.call(this,b,!0)}}),an=av.extend({initialize:function(a,b){l(this,b),this._layers={},a&&this.addData(a)},addData:function(b){var e,g,c,f=aj(b)?b:b.features;if(f){for(e=0,g=f.length;e<g;e++){((c=f[e]).geometries||c.geometry||c.features||c.coordinates)&&this.addData(c)}return this}var d=this.options;if(d.filter&&!d.filter(b)){return this}var a=Wt(b,d);return a?(a.feature=Gt(b),a.defaultOptions=a.options,this.resetStyle(a),d.onEachFeature&&d.onEachFeature(b,a),this.addLayer(a)):this},resetStyle:function(a){return a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this},setStyle:function(a){return this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(b,a){'function'==typeof a&&(a=a(b.feature)),b.setStyle&&b.setStyle(a)}}),bk={toGeoJSON:function(a){return qt(this,{type:'Point',coordinates:Ut(this.getLatLng(),a)})}};aK.include(bk),a7.include(bk),aU.include(bk),ao.include({toGeoJSON:function(c){var a=!Dt(this._latlngs),b=Vt(this._latlngs,a?1:0,!1,c);return qt(this,{type:(a?'Multi':'')+'LineString',coordinates:b})}}),aA.include({toGeoJSON:function(d){var a=!Dt(this._latlngs),c=a&&!Dt(this._latlngs[0]),b=Vt(this._latlngs,c?2:a?1:0,!0,d);return a||(b=[b]),qt(this,{type:(c?'Multi':'')+'Polygon',coordinates:b})}}),az.include({toMultiPoint:function(b){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(b).geometry.coordinates)}),qt(this,{type:'MultiPoint',coordinates:a})},toGeoJSON:function(d){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if('MultiPoint'===c){return this.toMultiPoint(d)}var b='GeometryCollection'===c,a=[];return this.eachLayer(function(e){if(e.toGeoJSON){var f=e.toGeoJSON(d);if(b){a.push(f.geometry)}else {var c=Gt(f);'FeatureCollection'===c.type?a.push.apply(a,c.features):a.push(c)}}}),b?qt(this,{geometries:a,type:'GeometryCollection'}):{type:'FeatureCollection',features:a}}});var cj=Kt,bo=ad.extend({options:{opacity:1,alt:'',interactive:!1,crossOrigin:!1,errorOverlayUrl:'',zIndex:1,className:''},initialize:function(c,b,a){this._url=c,this._bounds=z(b),l(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pt(this._image,'leaflet-interactive'),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&ct(this._image),this},bringToBack:function(){return this._map&&_t(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=z(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var b='IMG'===this._url.tagName,a=this._image=b?this._url:ht('img');pt(a,'leaflet-image-layer'),this._zoomAnimated&&pt(a,'leaflet-zoom-animated'),this.options.className&&pt(a,this.options.className),a.onselectstart=r,a.onmousemove=r,a.onload=e(this.fire,this,'load'),a.onerror=e(this._overlayOnError,this,'error'),this.options.crossOrigin&&(a.crossOrigin=''),this.options.zIndex&&this._updateZIndex(),b?this._url=a.src:(a.src=this._url,a.alt=this.options.alt)},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;wt(this._image,b,c)},_reset:function(){var a=this._image,c=new P(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=c.getSize();Lt(a,c.min),a.style.width=b.x+'px',a.style.height=b.y+'px'},_updateOpacity:function(){vt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire('error');var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)}}),bO=bo.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var h='VIDEO'===this._url.tagName,a=this._image=h?this._url:ht('video');if(pt(a,'leaflet-image-layer'),this._zoomAnimated&&pt(a,'leaflet-zoom-animated'),a.onselectstart=r,a.onmousemove=r,a.onloadeddata=e(this.fire,this,'load'),h){for(var c=a.getElementsByTagName('source'),g=[],d=0;d<c.length;d++){g.push(c[d].src)}this._url=c.length>0?g:[a.src]}else {aj(this._url)||(this._url=[this._url]),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop;for(var b=0;b<this._url.length;b++){var f=ht('source');f.src=this._url[b],a.appendChild(f)}}}}),am=ad.extend({options:{offset:[0,7],className:'',pane:'popupPane'},initialize:function(b,a){l(this,b),this._source=a},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&vt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&vt(this._container,1),this.bringToFront()},onRemove:function(a){a._fadeAnimated?(vt(this._container,0),this._removeTimeout=setTimeout(e(ut,void 0,this._container),200)):ut(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=C(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility='hidden',this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility='',this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return !!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ct(this._container),this},bringToBack:function(){return this._map&&_t(this._container),this},_updateContent:function(){if(this._content){var a=this._contentNode,b='function'==typeof this._content?this._content(this._source||this):this._content;if('string'==typeof b){a.innerHTML=b}else {for(;a.hasChildNodes();){a.removeChild(a.firstChild)}a.appendChild(b)}this.fire('contentupdate')}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),a=w(this.options.offset),b=this._getAnchor();this._zoomAnimated?Lt(this._container,c.add(b)):a=a.add(c).add(b);var d=this._containerBottom=-a.y,e=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=d+'px',this._container.style.left=e+'px'}},_getAnchor:function(){return [0,0]}}),aF=am.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:''},openOn:function(a){return a.openPopup(this),this},onAdd:function(a){am.prototype.onAdd.call(this,a),a.fire('popupopen',{popup:this}),this._source&&(this._source.fire('popupopen',{popup:this},!0),this._source instanceof aq||this._source.on('preclick',Y))},onRemove:function(a){am.prototype.onRemove.call(this,a),a.fire('popupclose',{popup:this}),this._source&&(this._source.fire('popupclose',{popup:this},!0),this._source instanceof aq||this._source.off('preclick',Y))},getEvents:function(){var a=am.prototype.getEvents.call(this);return (void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this._close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a='leaflet-popup',c=this._container=ht('div',a+' '+(this.options.className||'')+' leaflet-zoom-animated'),b=this._wrapper=ht('div',a+'-content-wrapper',c);if(this._contentNode=ht('div',a+'-content',b),J(b),X(this._contentNode),V(b,'contextmenu',Y),this._tipContainer=ht('div',a+'-tip-container',c),this._tip=ht('div',a+'-tip',this._tipContainer),this.options.closeButton){var d=this._closeButton=ht('a',a+'-close-button',c);d.href='#close',d.innerHTML='&#215;',V(d,'click',this._onCloseButtonClick,this)}},_updateLayout:function(){var c=this._contentNode,a=c.style;a.width='',a.whiteSpace='nowrap';var b=c.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),a.width=b+1+'px',a.whiteSpace='',a.height='';var e=c.offsetHeight,d=this.options.maxHeight;d&&e>d?(a.height=d+'px',pt(c,'leaflet-popup-scrolled')):mt(c,'leaflet-popup-scrolled'),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),b=this._getAnchor();Lt(this._container,c.add(b))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var h=this._map,l=parseInt(at(this._container,'marginBottom'),10)||0,g=this._container.offsetHeight+l,i=this._containerWidth,j=new x(this._containerLeft,-g-this._containerBottom);j._add(Pt(this._container));var a=h.layerPointToContainerPoint(j),k=w(this.options.autoPanPadding),d=w(this.options.autoPanPaddingTopLeft||k),e=w(this.options.autoPanPaddingBottomRight||k),f=h.getSize(),c=0,b=0;a.x+i+e.x>f.x&&(c=a.x+i-f.x+e.x),a.x-c-d.x<0&&(c=a.x-d.x),a.y+g+e.y>f.y&&(b=a.y+g-f.y+e.y),a.y-b-d.y<0&&(b=a.y-d.y),(c||b)&&h.fire('autopanstart').panBy([c,b])}},_onCloseButtonClick:function(a){this._close(),Q(a)},_getAnchor:function(){return w(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});aa.mergeOptions({closePopupOnClick:!0}),aa.include({openPopup:function(a,b,c){return a instanceof aF||(a=(new aF(c)).setContent(a)),b&&a.setLatLng(b),this.hasLayer(a)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=a,this.addLayer(a))},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),a&&this.removeLayer(a),this}}),ad.include({bindPopup:function(a,b){return a instanceof aF?(l(a,b),this._popup=a,a._source=this):(this._popup&&!b||(this._popup=new aF(b,this)),this._popup.setContent(a)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a,b){if(a instanceof ad||(b=a,a=this),a instanceof av){for(var c in this._layers){a=this._layers[c];break}}return b||(b=a.getCenter?a.getCenter():a.getLatLng()),this._popup&&this._map&&(this._popup._source=a,this._popup.update(),this._map.openPopup(this._popup,b)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(a){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(a)),this},isPopupOpen:function(){return !!this._popup&&this._popup.isOpen()},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){var b=a.layer||a.target;this._popup&&this._map&&(Q(a),b instanceof aq?this.openPopup(a.layer||a.target,a.latlng):this._map.hasLayer(this._popup)&&this._popup._source===b?this.closePopup():this.openPopup(b,a.latlng))},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){13===a.originalEvent.keyCode&&this._openPopup(a)}});var aC=am.extend({options:{pane:'tooltipPane',offset:[0,0],direction:'auto',permanent:!1,sticky:!1,interactive:!1,opacity:0.9},onAdd:function(a){am.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire('tooltipopen',{tooltip:this}),this._source&&this._source.fire('tooltipopen',{tooltip:this},!0)},onRemove:function(a){am.prototype.onRemove.call(this,a),a.fire('tooltipclose',{tooltip:this}),this._source&&this._source.fire('tooltipclose',{tooltip:this},!0)},getEvents:function(){var a=am.prototype.getEvents.call(this);return ah&&!this.options.permanent&&(a.preclick=this._close),a},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var a='leaflet-tooltip '+(this.options.className||'')+' leaflet-zoom-'+(this._zoomAnimated?'animated':'hide');this._contentNode=this._container=ht('div',a)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var h=this._map,c=this._container,i=h.latLngToContainerPoint(h.getCenter()),j=h.layerPointToContainerPoint(a),d=this.options.direction,g=c.offsetWidth,f=c.offsetHeight,b=w(this.options.offset),e=this._getAnchor();'top'===d?a=a.add(w(-g/2+b.x,-f+b.y+e.y,!0)):'bottom'===d?a=a.subtract(w(g/2-b.x,-b.y,!0)):'center'===d?a=a.subtract(w(g/2+b.x,f/2-e.y+b.y,!0)):'right'===d||'auto'===d&&j.x<i.x?(d='right',a=a.add(w(b.x+e.x,e.y-f/2+b.y,!0))):(d='left',a=a.subtract(w(g+e.x-b.x,f/2-e.y-b.y,!0))),mt(c,'leaflet-tooltip-right'),mt(c,'leaflet-tooltip-left'),mt(c,'leaflet-tooltip-top'),mt(c,'leaflet-tooltip-bottom'),pt(c,'leaflet-tooltip-'+d),Lt(c,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&vt(this._container,a)},_animateZoom:function(a){var b=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(b)},_getAnchor:function(){return w(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});aa.include({openTooltip:function(a,b,c){return a instanceof aC||(a=(new aC(c)).setContent(a)),b&&a.setLatLng(b),this.hasLayer(a)?this:this.addLayer(a)},closeTooltip:function(a){return a&&this.removeLayer(a),this}}),ad.include({bindTooltip:function(a,b){return a instanceof aC?(l(a,b),this._tooltip=a,a._source=this):(this._tooltip&&!b||(this._tooltip=new aC(b,this)),this._tooltip.setContent(a)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(b){if(b||!this._tooltipHandlersAdded){var c=b?'off':'on',a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),ah&&(a.click=this._openTooltip)),this[c](a),this._tooltipHandlersAdded=!b}},openTooltip:function(a,b){if(a instanceof ad||(b=a,a=this),a instanceof av){for(var c in this._layers){a=this._layers[c];break}}return b||(b=a.getCenter?a.getCenter():a.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=a,this._tooltip.update(),this._map.openTooltip(this._tooltip,b),this._tooltip.options.interactive&&this._tooltip._container&&(pt(this._tooltip._container,'leaflet-clickable'),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(mt(this._tooltip._container,'leaflet-clickable'),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(a){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(a)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_openTooltip:function(a){var b=a.layer||a.target;this._tooltip&&this._map&&this.openTooltip(b,this._tooltip.options.sticky?a.latlng:void 0)},_moveTooltip:function(a){var c,b,d=a.latlng;this._tooltip.options.sticky&&a.originalEvent&&(c=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(c),d=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(d)}});var bQ=aw.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:'leaflet-div-icon'},createIcon:function(c){var b=c&&'DIV'===c.tagName?c:document.createElement('div'),a=this.options;if(b.innerHTML=!1!==a.html?a.html:'',a.bgPos){var d=w(a.bgPos);b.style.backgroundPosition=-d.x+'px '+-d.y+'px'}return this._setIconStyles(b,'icon'),b},createShadow:function(){return null}});aw.Default=aH;var bc=ad.extend({options:{tileSize:256,opacity:1,updateWhenIdle:aB,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:'tilePane',className:'',keepBuffer:2},initialize:function(a){l(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ut(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ct(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_t(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement('div')},getTileSize:function(){var a=this.options.tileSize;return a instanceof x?a:new x(a,a)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var d,c=this.getPane().children,a=-e(-1/0,1/0),b=0,f=c.length;b<f;b++){d=c[b].style.zIndex,c[b]!==this._container&&d&&(a=e(a,+d))}isFinite(a)&&(this.options.zIndex=a+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ax){vt(this._container,this.options.opacity);var h=+new Date(),c=!1,b=!1;for(var e in this._tiles){var a=this._tiles[e];if(a.current&&a.loaded){var d=Math.min(1,(h-a.loaded)/200);vt(a.el,d),d<1?c=!0:(a.active?b=!0:this._onOpaqueTile(a),a.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),c&&(g(this._fadeFrame),this._fadeFrame=f(this._updateOpacity,this))}},_onOpaqueTile:r,_initContainer:function(){this._container||(this._container=ht('div','leaflet-layer '+(this.options.className||'')),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,e=this.options.maxZoom;if(void 0!==c){for(var b in this._levels){this._levels[b].el.children.length||b===c?(this._levels[b].el.style.zIndex=e-Math.abs(c-b),this._onUpdateLevel(b)):(ut(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b])}var a=this._levels[c],d=this._map;return a||((a=this._levels[c]={}).el=ht('div','leaflet-tile-container leaflet-zoom-animated',this._container),a.el.style.zIndex=e,a.origin=d.project(d.unproject(d.getPixelOrigin()),c).round(),a.zoom=c,this._setZoomTransform(a,d.getCenter(),d.getZoom()),a.el.offsetWidth,this._onCreateLevel(a)),this._level=a,a}},_onUpdateLevel:r,_onRemoveLevel:r,_onCreateLevel:r,_pruneTiles:function(){if(this._map){var b,c,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles()}else {for(b in this._tiles){(c=this._tiles[b]).retain=c.current}for(b in this._tiles){if((c=this._tiles[b]).current&&!c.active){var a=c.coords;this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2)}}for(b in this._tiles){this._tiles[b].retain||this._removeTile(b)}}}},_removeTilesAtZoom:function(b){for(var a in this._tiles){this._tiles[a].coords.z===b&&this._removeTile(a)}},_removeAllTiles:function(){for(var a in this._tiles){this._removeTile(a)}},_invalidateAll:function(){for(var a in this._levels){ut(this._levels[a].el),this._onRemoveLevel(a),delete this._levels[a]}this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(j,i,g,d){var e=Math.floor(j/2),f=Math.floor(i/2),b=g-1,c=new x(+e,+f);c.z=+b;var h=this._tileCoordsToKey(c),a=this._tiles[h];return a&&a.active?(a.retain=!0,!0):(a&&a.loaded&&(a.retain=!0),b>d&&this._retainParent(e,f,b,d))},_retainChildren:function(h,e,d,f){for(var b=2*h;b<2*h+2;b++){for(var c=2*e;c<2*e+2;c++){var g=new x(b,c);g.z=d+1;var i=this._tileCoordsToKey(g),a=this._tiles[i];a&&a.active?a.retain=!0:(a&&a.loaded&&(a.retain=!0),d+1<f&&this._retainChildren(b,c,d+1,f))}}},_resetView:function(a){var b=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(b){var a=this.options;return void 0!==a.minNativeZoom&&b<a.minNativeZoom?a.minNativeZoom:void 0!==a.maxNativeZoom&&a.maxNativeZoom<b?a.maxNativeZoom:b},_setView:function(d,c,b,e){var a=this._clampZoom(Math.round(c));(void 0!==this.options.maxZoom&&a>this.options.maxZoom||void 0!==this.options.minZoom&&a<this.options.minZoom)&&(a=void 0);var f=this.options.updateWhenZooming&&a!==this._tileZoom;e&&!f||(this._tileZoom=a,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==a&&this._update(d),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(d,c)},_setZoomTransforms:function(c,b){for(var a in this._levels){this._setZoomTransform(this._levels[a],c,b)}},_setZoomTransform:function(a,e,b){var c=this._map.getZoomScale(b,a.zoom),d=a.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(e,b)).round();ac?wt(a.el,d,c):Lt(a.el,d)},_resetGrid:function(){var b=this._map,a=b.options.crs,c=this._tileSize=this.getTileSize(),d=this._tileZoom,e=this._map.getPixelWorldBounds(this._tileZoom);e&&(this._globalTileRange=this._pxBoundsToTileRange(e)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(b.project([0,a.wrapLng[0]],d).x/c.x),Math.ceil(b.project([0,a.wrapLng[1]],d).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(b.project([a.wrapLat[0],0],d).y/c.x),Math.ceil(b.project([a.wrapLat[1],0],d).y/c.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(f){var a=this._map,d=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),e=a.getZoomScale(d,this._tileZoom),b=a.project(f,this._tileZoom).floor(),c=a.getSize().divideBy(2*e);return new P(b.subtract(c),b.add(c))},_update:function(f){var h=this._map;if(h){var j=this._clampZoom(h.getZoom());if(void 0===f&&(f=h.getCenter()),void 0!==this._tileZoom){var p=this._getTiledPixelBounds(f),a=this._pxBoundsToTileRange(p),m=a.getCenter(),c=[],d=this.options.keepBuffer,o=new P(a.getBottomLeft().subtract([d,-d]),a.getTopRight().add([d,-d]));if(!(isFinite(a.min.x)&&isFinite(a.min.y)&&isFinite(a.max.x)&&isFinite(a.max.y))){throw new Error('Attempted to load an infinite number of tiles')}for(var n in this._tiles){var i=this._tiles[n].coords;i.z===this._tileZoom&&o.contains(new x(i.x,i.y))||(this._tiles[n].current=!1)}if(Math.abs(j-this._tileZoom)>1){this._setView(f,j)}else {for(var g=a.min.y;g<=a.max.y;g++){for(var b=a.min.x;b<=a.max.x;b++){var e=new x(b,g);if(e.z=this._tileZoom,this._isValidTile(e)){var l=this._tiles[this._tileCoordsToKey(e)];l?l.current=!0:c.push(e)}}}if(c.sort(function(b,a){return b.distanceTo(m)-a.distanceTo(m)}),0!==c.length){this._loading||(this._loading=!0,this.fire('loading'));var k=document.createDocumentFragment();for(b=0;b<c.length;b++){this._addTile(c[b],k)}this._level.el.appendChild(k)}}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var b=this._globalTileRange;if(!c.wrapLng&&(a.x<b.min.x||a.x>b.max.x)||!c.wrapLat&&(a.y<b.min.y||a.y>b.max.y)){return !1}}if(!this.options.bounds){return !0}var d=this._tileCoordsToBounds(a);return z(this.options.bounds).overlaps(d)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,b=this.getTileSize(),d=a.scaleBy(b),e=d.add(b);return [c.unproject(d,a.z),c.unproject(e,a.z)]},_tileCoordsToBounds:function(c){var b=this._tileCoordsToNwSe(c),a=new T(b[0],b[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(a){return a.x+':'+a.y+':'+a.z},_keyToTileCoords:function(c){var a=c.split(':'),b=new x(+a[0],+a[1]);return b.z=+a[2],b},_removeTile:function(b){var a=this._tiles[b];a&&(bA||a.el.setAttribute('src',bj),ut(a.el),delete this._tiles[b],this.fire('tileunload',{tile:a.el,coords:this._keyToTileCoords(b)}))},_initTile:function(a){pt(a,'leaflet-tile');var b=this.getTileSize();a.style.width=b.x+'px',a.style.height=b.y+'px',a.onselectstart=r,a.onmousemove=r,ax&&this.options.opacity<1&&vt(a,this.options.opacity),ay&&!aT&&(a.style.WebkitBackfaceVisibility='hidden')},_addTile:function(a,c){var d=this._getTilePos(a),g=this._tileCoordsToKey(a),b=this.createTile(this._wrapCoords(a),e(this._tileReady,this,a));this._initTile(b),this.createTile.length<2&&f(e(this._tileReady,this,a,null,b)),Lt(b,d),this._tiles[g]={el:b,coords:a,current:!0},c.appendChild(b),this.fire('tileloadstart',{tile:b,coords:a})},_tileReady:function(c,b,a){if(this._map){b&&this.fire('tileerror',{error:b,tile:a,coords:c});var d=this._tileCoordsToKey(c);(a=this._tiles[d])&&(a.loaded=+new Date(),this._map._fadeAnimated?(vt(a.el,0),g(this._fadeFrame),this._fadeFrame=f(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),b||(pt(a.el,'leaflet-tile-loaded'),this.fire('tileload',{tile:a.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire('load'),ax||!this._map._fadeAnimated?f(this._pruneTiles,this):setTimeout(e(this._pruneTiles,this),250)))}},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var b=new x(this._wrapX?s(a.x,this._wrapX):a.x,this._wrapY?s(a.y,this._wrapY):a.y);return b.z=a.z,b},_pxBoundsToTileRange:function(b){var a=this.getTileSize();return new P(b.min.unscaleBy(a).floor(),b.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles){if(!this._tiles[a].loaded){return !1}}return !0}}),aM=bc.extend({options:{minZoom:0,maxZoom:18,subdomains:'abc',errorTileUrl:'',zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(b,a){this._url=b,(a=l(this,a)).detectRetina&&ar&&a.maxZoom>0&&(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom++):(a.zoomOffset++,a.maxZoom--),a.minZoom=Math.max(0,a.minZoom)),'string'==typeof a.subdomains&&(a.subdomains=a.subdomains.split('')),ay||this.on('tileunload',this._onTileRemove)},setUrl:function(b,a){return this._url=b,a||this.redraw(),this},createTile:function(c,b){var a=document.createElement('img');return V(a,'load',e(this._tileOnLoad,this,b,a)),V(a,'error',e(this._tileOnError,this,b,a)),this.options.crossOrigin&&(a.crossOrigin=''),a.alt='',a.setAttribute('role','presentation'),a.src=this.getTileUrl(c),a},getTileUrl:function(a){var b={r:ar?'@2x':'',s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-a.y;this.options.tms&&(b.y=c),b['-y']=c}return _(this._url,i(b,this.options))},_tileOnLoad:function(b,a){ax?setTimeout(e(b,this,null,a),0):b(null,a)},_tileOnError:function(d,a,c){var b=this.options.errorTileUrl;b&&a.getAttribute('src')!==b&&(a.src=b),d(c,a)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,b=this.options.zoomReverse,d=this.options.zoomOffset;return b&&(a=c-a),a+d},_getSubdomain:function(a){var b=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var b,a;for(b in this._tiles){this._tiles[b].coords.z!==this._tileZoom&&((a=this._tiles[b].el).onload=r,a.onerror=r,a.complete||(a.src=bj,ut(a),delete this._tiles[b]))}}}),bW=aM.extend({defaultWmsParams:{service:'WMS',request:'GetMap',layers:'',styles:'',format:'image/jpeg',transparent:!1,version:'1.1.1'},options:{crs:null,uppercase:!1},initialize:function(f,a){this._url=f;var b=i({},this.defaultWmsParams);for(var c in a){c in this.options||(b[c]=a[c])}var e=(a=l(this,a)).detectRetina&&ar?2:1,d=this.getTileSize();b.width=d.x*e,b.height=d.y*e,this.wmsParams=b},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?'crs':'srs';this.wmsParams[b]=this._crs.code,aM.prototype.onAdd.call(this,a)},getTileUrl:function(i){var g=this._tileCoordsToNwSe(i),f=this._crs,h=b(f.project(g[0]),f.project(g[1])),a=h.min,d=h.max,j=(this._wmsVersion>=1.3&&this._crs===bD?[a.y,a.x,d.y,d.x]:[a.x,a.y,d.x,d.y]).join(','),e=L.TileLayer.prototype.getTileUrl.call(this,i);return e+c(this.wmsParams,e,this.options.uppercase)+(this.options.uppercase?'&BBOX=':'&bbox=')+j},setParams:function(b,a){return i(this.wmsParams,b),a||this.redraw(),this}});aM.WMS=bW,Yt.wms=function(b,a){return new bW(b,a)};var ak=ad.extend({options:{padding:0.1,tolerance:0},initialize:function(a){l(this,a),n(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&pt(this._container,'leaflet-zoom-animated')),this.getPane().appendChild(this._container),this._update(),this.on('update',this._updatePaths,this)},onRemove:function(){this.off('update',this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,a){var c=this._map.getZoomScale(a,this._zoom),e=Pt(this._container),d=this._map.getSize().multiplyBy(0.5+this.options.padding),g=this._map.project(this._center,a),f=this._map.project(h,a).subtract(g),b=d.multiplyBy(-c).add(e).add(d).subtract(f);ac?wt(this._container,b,c):Lt(this._container,b)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers){this._layers[a]._reset()}},_onZoomEnd:function(){for(var a in this._layers){this._layers[a]._project()}},_updatePaths:function(){for(var a in this._layers){this._layers[a]._update()}},_update:function(){var c=this.options.padding,b=this._map.getSize(),a=this._map.containerPointToLayerPoint(b.multiplyBy(-c)).round();this._bounds=new P(a,a.add(b.multiplyBy(1+2*c)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),bg=ak.extend({getEvents:function(){var a=ak.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ak.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement('canvas');V(a,'mousemove',o(this._onMouseMove,32,this),this),V(a,'click dblclick mousedown mouseup contextmenu',this._onClick,this),V(a,'mouseout',this._handleMouseOut,this),this._ctx=a.getContext('2d')},_destroyContainer:function(){delete this._ctx,ut(this._container),q(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){this._redrawBounds=null;for(var a in this._layers){this._layers[a]._update()}this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},ak.prototype._update.call(this);var c=this._bounds,a=this._container,b=c.getSize(),d=ar?2:1;Lt(a,c.min),a.width=d*b.x,a.height=d*b.y,a.style.width=b.x+'px',a.style.height=b.y+'px',ar&&this._ctx.scale(2,2),this._ctx.translate(-c.min.x,-c.min.y),this.fire('update')}},_reset:function(){ak.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[n(a)]=a;var b=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b),this._drawLast=b,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(c){var d=c._order,a=d.next,b=d.prev;a?a.prev=b:this._drawLast=b,b?b.next=a:this._drawFirst=a,delete c._order,delete this._layers[L.stamp(c)],this._requestRedraw(c)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(b){if(b.options.dashArray){var a,c=b.options.dashArray.split(','),d=[];for(a=0;a<c.length;a++){d.push(Number(c[a]))}b.options._dashArray=d}},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||f(this._redraw,this))},_extendRedrawBounds:function(b){if(b._pxBounds){var a=(b.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new P(),this._redrawBounds.extend(b._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(b._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var b=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,b.x,b.y)}else {this._ctx.clearRect(0,0,this._container.width,this._container.height)}},_draw:function(){var c,a=this._redrawBounds;if(this._ctx.save(),a){var d=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next){c=b.layer,(!a||c._pxBounds&&c._pxBounds.intersects(a))&&c._updatePath()}this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,i){if(this._drawing){var a,b,h,f,e=d._parts,g=e.length,c=this._ctx;if(g){for(this._drawnLayers[d._leaflet_id]=d,c.beginPath(),a=0;a<g;a++){for(b=0,h=e[a].length;b<h;b++){f=e[a][b],c[b?'lineTo':'moveTo'](f.x,f.y)}i&&c.closePath()}this._fillStroke(c,d)}}},_updateCircle:function(a){if(this._drawing&&!a._empty()){var e=a._point,b=this._ctx,d=Math.max(Math.round(a._radius),1),c=(Math.max(Math.round(a._radiusY),1)||d)/d;this._drawnLayers[a._leaflet_id]=a,1!==c&&(b.save(),b.scale(1,c)),b.beginPath(),b.arc(e.x,e.y/c,d,0,2*Math.PI,!1),1!==c&&b.restore(),this._fillStroke(b,a)}},_fillStroke:function(b,c){var a=c.options;a.fill&&(b.globalAlpha=a.fillOpacity,b.fillStyle=a.fillColor||a.color,b.fill(a.fillRule||'evenodd')),a.stroke&&0!==a.weight&&(b.setLineDash&&b.setLineDash(c.options&&c.options._dashArray||[]),b.globalAlpha=a.opacity,b.lineWidth=a.weight,b.strokeStyle=a.color,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.stroke())},_onClick:function(d){for(var a,c,e=this._map.mouseEventToLayerPoint(d),b=this._drawFirst;b;b=b.next){(a=b.layer).options.interactive&&a._containsPoint(e)&&!this._map._draggableMoved(a)&&(c=a)}c&&(et(d),this._fireEvent([c],d))},_onMouseMove:function(a){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var b=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,b)}},_handleMouseOut:function(b){var a=this._hoveredLayer;a&&(mt(this._container,'leaflet-interactive'),this._fireEvent([a],b,'mouseout'),this._hoveredLayer=null)},_handleMouseHover:function(d,e){for(var c,a,b=this._drawFirst;b;b=b.next){(c=b.layer).options.interactive&&c._containsPoint(e)&&(a=c)}a!==this._hoveredLayer&&(this._handleMouseOut(d),a&&(pt(this._container,'leaflet-interactive'),this._fireEvent([a],d,'mouseover'),this._hoveredLayer=a)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],d)},_fireEvent:function(c,a,b){this._map._fireDOMEvent(a,b||a.type,c)},_bringToFront:function(d){var a=d._order,b=a.next,c=a.prev;b&&(b.prev=c,c?c.next=b:b&&(this._drawFirst=b),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(d))},_bringToBack:function(d){var a=d._order,c=a.next,b=a.prev;b&&(b.next=c,c?c.prev=b:b&&(this._drawLast=b),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(d))}}),aP=function(){try{return document.namespaces.add('lvml','urn:schemas-microsoft-com:vml'),function(a){return document.createElement('<lvml:'+a+' class="lvml">')}}catch(cn){return function(a){return document.createElement('<'+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),ck={_initContainer:function(){this._container=ht('div','leaflet-vml-container')},_update:function(){this._map._animatingZoom||(ak.prototype._update.call(this),this.fire('update'))},_initPath:function(a){var b=a._container=aP('shape');pt(b,'leaflet-vml-shape '+(this.options.className||'')),b.coordsize='1 1',a._path=aP('path'),b.appendChild(a._path),this._updateStyle(a),this._layers[n(a)]=a},_addPath:function(a){var b=a._container;this._container.appendChild(b),a.options.interactive&&a.addInteractiveTarget(b)},_removePath:function(a){var b=a._container;ut(b),a.removeInteractiveTarget(b),delete this._layers[n(a)]},_updateStyle:function(c){var b=c._stroke,d=c._fill,a=c.options,e=c._container;e.stroked=!!a.stroke,e.filled=!!a.fill,a.stroke?(b||(b=c._stroke=aP('stroke')),e.appendChild(b),b.weight=a.weight+'px',b.color=a.color,b.opacity=a.opacity,a.dashArray?b.dashStyle=aj(a.dashArray)?a.dashArray.join(' '):a.dashArray.replace(/( *, *)/g,' '):b.dashStyle='',b.endcap=a.lineCap.replace('butt','flat'),b.joinstyle=a.lineJoin):b&&(e.removeChild(b),c._stroke=null),a.fill?(d||(d=c._fill=aP('fill')),e.appendChild(d),d.color=a.fillColor||a.color,d.opacity=a.fillOpacity):d&&(e.removeChild(d),c._fill=null)},_updateCircle:function(a){var c=a._point.round(),b=Math.round(a._radius),d=Math.round(a._radiusY||b);this._setPath(a,a._empty()?'M0 0':'AL '+c.x+','+c.y+' '+b+','+d+' 0,23592600')},_setPath:function(b,a){b._path.v=a},_bringToFront:function(a){ct(a._container)},_bringToBack:function(a){_t(a._container)}},a0=aV?aP:E,aG=ak.extend({getEvents:function(){var a=ak.prototype.getEvents.call(this);return a.zoomstart=this._onZoomStart,a},_initContainer:function(){this._container=a0('svg'),this._container.setAttribute('pointer-events','none'),this._rootGroup=a0('g'),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ut(this._container),q(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ak.prototype._update.call(this);var c=this._bounds,a=c.getSize(),b=this._container;this._svgSize&&this._svgSize.equals(a)||(this._svgSize=a,b.setAttribute('width',a.x),b.setAttribute('height',a.y)),Lt(b,c.min),b.setAttribute('viewBox',[c.min.x,c.min.y,a.x,a.y].join(' ')),this.fire('update')}},_initPath:function(a){var b=a._path=a0('path');a.options.className&&pt(b,a.options.className),a.options.interactive&&pt(b,'leaflet-interactive'),this._updateStyle(a),this._layers[n(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ut(a._path),a.removeInteractiveTarget(a._path),delete this._layers[n(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(c){var b=c._path,a=c.options;b&&(a.stroke?(b.setAttribute('stroke',a.color),b.setAttribute('stroke-opacity',a.opacity),b.setAttribute('stroke-width',a.weight),b.setAttribute('stroke-linecap',a.lineCap),b.setAttribute('stroke-linejoin',a.lineJoin),a.dashArray?b.setAttribute('stroke-dasharray',a.dashArray):b.removeAttribute('stroke-dasharray'),a.dashOffset?b.setAttribute('stroke-dashoffset',a.dashOffset):b.removeAttribute('stroke-dashoffset')):b.setAttribute('stroke','none'),a.fill?(b.setAttribute('fill',a.fillColor||a.color),b.setAttribute('fill-opacity',a.fillOpacity),b.setAttribute('fill-rule',a.fillRule||'evenodd')):b.setAttribute('fill','none'))},_updatePoly:function(a,b){this._setPath(a,k(a._parts,b))},_updateCircle:function(b){var c=b._point,a=Math.max(Math.round(b._radius),1),d='a'+a+','+(Math.max(Math.round(b._radiusY),1)||a)+' 0 1,0 ',e=b._empty()?'M0 0':'M'+(c.x-a)+','+c.y+d+2*a+',0 '+d+2*-a+',0 ';this._setPath(b,e)},_setPath:function(b,a){b._path.setAttribute('d',a)},_bringToFront:function(a){ct(a._path)},_bringToBack:function(a){_t(a._path)}});aV&&aG.include(ck),aa.include({getRenderer:function(b){var a=b.options.renderer||this._getPaneRenderer(b.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this.options.preferCanvas&&Xt()||Jt()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(a){if('overlayPane'===a||void 0===a){return !1}var b=this._paneRenderers[a];return void 0===b&&(b=aG&&Jt({pane:a})||bg&&Xt({pane:a}),this._paneRenderers[a]=b),b}});var b0=aA.extend({initialize:function(b,a){aA.prototype.initialize.call(this,this._boundsToLatLngs(b),a)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=z(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});aG.create=a0,aG.pointsToPath=k,an.geometryToLayer=Wt,an.coordsToLatLng=Ht,an.coordsToLatLngs=Ft,an.latLngToCoords=Ut,an.latLngsToCoords=Vt,an.getFeature=qt,an.asFeature=Gt,aa.mergeOptions({boxZoom:!0});var bF=ai.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on('unload',this._destroy,this)},addHooks:function(){V(this._container,'mousedown',this._onMouseDown,this)},removeHooks:function(){q(this._container,'mousedown',this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||1!==a.which&&1!==a.button){return !1}this._clearDeferredResetState(),this._resetState(),aR(),bt(),this._startPoint=this._map.mouseEventToContainerPoint(a),V(document,{contextmenu:Q,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=ht('div','leaflet-zoom-box',this._container),pt(this._container,'leaflet-crosshair'),this._map.fire('boxzoomstart')),this._point=this._map.mouseEventToContainerPoint(c);var b=new P(this._point,this._startPoint),a=b.getSize();Lt(this._box,b.min),this._box.style.width=a.x+'px',this._box.style.height=a.y+'px'},_finish:function(){this._moved&&(ut(this._box),mt(this._container,'leaflet-crosshair')),aN(),Tt(),q(document,{contextmenu:Q,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(b){if((1===b.which||1===b.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(e(this._resetState,this),0);var a=new T(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire('boxzoomend',{boxZoomBounds:a})}},_onKeyDown:function(a){27===a.keyCode&&this._finish()}});aa.addInitHook('addHandler','boxZoom',bF),aa.mergeOptions({doubleClickZoom:!0});var bI=ai.extend({addHooks:function(){this._map.on('dblclick',this._onDoubleClick,this)},removeHooks:function(){this._map.off('dblclick',this._onDoubleClick,this)},_onDoubleClick:function(e){var a=this._map,b=a.getZoom(),c=a.options.zoomDelta,d=e.originalEvent.shiftKey?b-c:b+c;'center'===a.options.doubleClickZoom?a.setZoom(d):a.setZoomAround(e.containerPoint,d)}});aa.addInitHook('addHandler','doubleClickZoom',bI),aa.mergeOptions({dragging:!0,inertia:!aT,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:0.2,worldCopyJump:!1,maxBoundsViscosity:0});var bP=ai.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new au(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on('predrag',this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on('predrag',this._onPreDragWrap,this),a.on('zoomend',this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}pt(this._map._container,'leaflet-grab leaflet-touch-drag'),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){mt(this._map._container,'leaflet-grab'),mt(this._map._container,'leaflet-touch-drag'),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=z(this._map.options.maxBounds);this._offsetLimit=b(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else {this._offsetLimit=null}a.fire('movestart').fire('dragstart'),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(b){if(this._map.options.inertia){var a=this._lastTime=+new Date(),c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire('move',b).fire('drag',b)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;){this._positions.shift(),this._times.shift()}},_onZoomEnd:function(){var b=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(b).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,b){return a-(a-b)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var a=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;a.x<b.min.x&&(a.x=this._viscousLimit(a.x,b.min.x)),a.y<b.min.y&&(a.y=this._viscousLimit(a.y,b.min.y)),a.x>b.max.x&&(a.x=this._viscousLimit(a.x,b.max.x)),a.y>b.max.y&&(a.y=this._viscousLimit(a.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var c=this._worldWidth,b=Math.round(c/2),a=this._initialWorldOffset,d=this._draggable._newPos.x,e=(d-b+a)%c+b-a,f=(d+b+a)%c-b-a,g=Math.abs(e+a)<Math.abs(f+a)?e:f;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=g},_onDragEnd:function(n){var a=this._map,c=a.options,k=!c.inertia||this._times.length<2;if(a.fire('dragend',n),k){a.fire('moveend')}else {this._prunePositions(+new Date());var l=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1000,d=c.easeLinearity,e=l.multiplyBy(d/m),h=e.distanceTo([0,0]),i=Math.min(c.inertiaMaxSpeed,h),j=e.multiplyBy(i/h),g=i/(c.inertiaDeceleration*d),b=j.multiplyBy(-g/2).round();b.x||b.y?(b=a._limitOffset(b,a.options.maxBounds),f(function(){a.panBy(b,{duration:g,easeLinearity:d,noMoveStart:!0,animate:!0})})):a.fire('moveend')}}});aa.addInitHook('addHandler','dragging',bP),aa.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bL=ai.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex='0'),V(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),q(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var b=document.body,a=document.documentElement,c=b.scrollTop||a.scrollTop,d=b.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(d,c)}},_onFocus:function(){this._focused=!0,this._map.fire('focus')},_onBlur:function(){this._focused=!1,this._map.fire('blur')},_setPanDelta:function(e){var a,b,d=this._panKeys={},c=this.keyCodes;for(a=0,b=c.left.length;a<b;a++){d[c.left[a]]=[-1*e,0]}for(a=0,b=c.right.length;a<b;a++){d[c.right[a]]=[e,0]}for(a=0,b=c.down.length;a<b;a++){d[c.down[a]]=[0,e]}for(a=0,b=c.up.length;a<b;a++){d[c.up[a]]=[0,-1*e]}},_setZoomDelta:function(e){var a,b,d=this._zoomKeys={},c=this.keyCodes;for(a=0,b=c.zoomIn.length;a<b;a++){d[c.zoomIn[a]]=e}for(a=0,b=c.zoomOut.length;a<b;a++){d[c.zoomOut[a]]=-e}},_addHooks:function(){V(document,'keydown',this._onKeyDown,this)},_removeHooks:function(){q(document,'keydown',this._onKeyDown,this)},_onKeyDown:function(b){if(!(b.altKey||b.ctrlKey||b.metaKey)){var d,c=b.keyCode,a=this._map;if(c in this._panKeys){if(a._panAnim&&a._panAnim._inProgress){return}d=this._panKeys[c],b.shiftKey&&(d=w(d).multiplyBy(3)),a.panBy(d),a.options.maxBounds&&a.panInsideBounds(a.options.maxBounds)}else {if(c in this._zoomKeys){a.setZoom(a.getZoom()+(b.shiftKey?3:1)*this._zoomKeys[c])}else {if(27!==c||!a._popup||!a._popup.options.closeOnEscapeKey){return}a.closePopup()}}Q(b)}}});aa.addInitHook('addHandler','keyboard',bL),aa.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var b1=ai.extend({addHooks:function(){V(this._map._container,'mousewheel',this._onWheelScroll,this),this._delta=0},removeHooks:function(){q(this._map._container,'mousewheel',this._onWheelScroll,this)},_onWheelScroll:function(a){var b=it(a),c=this._map.options.wheelDebounceTime;this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date());var d=Math.max(c-(+new Date()-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(e(this._performZoom,this),d),Q(a)},_performZoom:function(){var a=this._map,b=a.getZoom(),c=this._map.options.zoomSnap||0;a._stop();var g=this._delta/(4*this._map.options.wheelPxPerZoomLevel),e=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,f=c?Math.ceil(e/c)*c:e,d=a._limitZoom(b+(this._delta>0?f:-f))-b;this._delta=0,this._startTime=null,d&&('center'===a.options.scrollWheelZoom?a.setZoom(b+d):a.setZoomAround(this._lastMousePos,b+d))}});aa.addInitHook('addHandler','scrollWheelZoom',b1),aa.mergeOptions({tap:!0,tapTolerance:15});var bH=ai.extend({addHooks:function(){V(this._map._container,'touchstart',this._onDown,this)},removeHooks:function(){q(this._map._container,'touchstart',this._onDown,this)},_onDown:function(b){if(b.touches){if($(b),this._fireClick=!0,b.touches.length>1){return this._fireClick=!1,void clearTimeout(this._holdTimeout)}var a=b.touches[0],c=a.target;this._startPos=this._newPos=new x(a.clientX,a.clientY),c.tagName&&'a'===c.tagName.toLowerCase()&&pt(c,'leaflet-active'),this._holdTimeout=setTimeout(e(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent('contextmenu',a))},this),1000),this._simulateEvent('mousedown',a),V(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(c){if(clearTimeout(this._holdTimeout),q(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&c&&c.changedTouches){var b=c.changedTouches[0],a=b.target;a&&a.tagName&&'a'===a.tagName.toLowerCase()&&mt(a,'leaflet-active'),this._simulateEvent('mouseup',b),this._isTapValid()&&this._simulateEvent('click',b)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(b){var a=b.touches[0];this._newPos=new x(a.clientX,a.clientY),this._simulateEvent('mousemove',a)},_simulateEvent:function(c,a){var b=document.createEvent('MouseEvents');b._simulated=!0,a.target._simulatedClick=!0,b.initMouseEvent(c,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(b)}});ah&&!af&&aa.addInitHook('addHandler','tap',bH),aa.mergeOptions({touchZoom:ah&&!aT,bounceAtZoomLimits:!0});var bB=ai.extend({addHooks:function(){pt(this._map._container,'leaflet-touch-zoom'),V(this._map._container,'touchstart',this._onTouchStart,this)},removeHooks:function(){mt(this._map._container,'leaflet-touch-zoom'),q(this._map._container,'touchstart',this._onTouchStart,this)},_onTouchStart:function(b){var a=this._map;if(b.touches&&2===b.touches.length&&!a._animatingZoom&&!this._zooming){var c=a.mouseEventToContainerPoint(b.touches[0]),d=a.mouseEventToContainerPoint(b.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),'center'!==a.options.touchZoom&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(d)._divideBy(2))),this._startDist=c.distanceTo(d),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),V(document,'touchmove',this._onTouchMove,this),V(document,'touchend',this._onTouchEnd,this),$(b)}},_onTouchMove:function(c){if(c.touches&&2===c.touches.length&&this._zooming){var a=this._map,h=a.mouseEventToContainerPoint(c.touches[0]),i=a.mouseEventToContainerPoint(c.touches[1]),b=h.distanceTo(i)/this._startDist;if(this._zoom=a.getScaleZoom(b,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&b<1||this._zoom>a.getMaxZoom()&&b>1)&&(this._zoom=a._limitZoom(this._zoom)),'center'===a.options.touchZoom){if(this._center=this._startLatLng,1===b){return}}else {var d=h._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===b&&0===d.x&&0===d.y){return}this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(d),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),g(this._animRequest);var j=e(a._move,a,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=f(j,this,!0),$(c)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,g(this._animRequest),q(document,'touchmove',this._onTouchMove),q(document,'touchend',this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});aa.addInitHook('addHandler','touchZoom',bB),aa.BoxZoom=bF,aa.DoubleClickZoom=bI,aa.Drag=bP,aa.Keyboard=bL,aa.ScrollWheelZoom=b1,aa.Tap=bH,aa.TouchZoom=bB;var cc=window.L;window.L=t,Object.freeze=bw,t.version='1.3.1+HEAD.ba6f97f',t.noConflict=function(){return window.L=cc,this},t.Control=ae,t.control=aL,t.Browser=b2,t.Evented=aS,t.Mixin=b3,t.Util=cd,t.Class=v,t.Handler=ai,t.extend=i,t.bind=e,t.stamp=n,t.setOptions=l,t.DomEvent=cf,t.DomUtil=cl,t.PosAnimation=b_,t.Draggable=au,t.LineUtil=b8,t.PolyUtil=b9,t.Point=x,t.point=w,t.Bounds=P,t.bounds=b,t.Transformation=Z,t.transformation=S,t.Projection=ch,t.LatLng=M,t.latLng=C,t.LatLngBounds=T,t.latLngBounds=z,t.CRS=al,t.GeoJSON=an,t.geoJSON=Kt,t.geoJson=cj,t.Layer=ad,t.LayerGroup=az,t.layerGroup=function(b,a){return new az(b,a)},t.FeatureGroup=av,t.featureGroup=function(a){return new av(a)},t.ImageOverlay=bo,t.imageOverlay=function(c,b,a){return new bo(c,b,a)},t.VideoOverlay=bO,t.videoOverlay=function(c,b,a){return new bO(c,b,a)},t.DivOverlay=am,t.Popup=aF,t.popup=function(b,a){return new aF(b,a)},t.Tooltip=aC,t.tooltip=function(b,a){return new aC(b,a)},t.Icon=aw,t.icon=function(a){return new aw(a)},t.DivIcon=bQ,t.divIcon=function(a){return new bQ(a)},t.Marker=aK,t.marker=function(b,a){return new aK(b,a)},t.TileLayer=aM,t.tileLayer=Yt,t.GridLayer=bc,t.gridLayer=function(a){return new bc(a)},t.SVG=aG,t.svg=Jt,t.Renderer=ak,t.Canvas=bg,t.canvas=Xt,t.Path=aq,t.CircleMarker=aU,t.circleMarker=function(b,a){return new aU(b,a)},t.Circle=a7,t.circle=function(c,b,a){return new a7(c,b,a)},t.Polyline=ao,t.polyline=function(b,a){return new ao(b,a)},t.Polygon=aA,t.polygon=function(b,a){return new aA(b,a)},t.Rectangle=b0,t.rectangle=function(b,a){return new b0(b,a)},t.Map=aa,t.map=function(b,a){return new aa(b,a)}});